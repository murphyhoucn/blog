

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="https://murphyimg.oss-cn-beijing.aliyuncs.com/img/202505301726222.png">
  <link rel="icon" href="https://murphyimg.oss-cn-beijing.aliyuncs.com/img/202505301728148.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Murphy">
  <meta name="keywords" content="Murphy,CosmicDusty,murphy,cosmicdusty,cn">
  
    <meta name="description" content="ç¬¬ä¸€æ¬¡å­¦ä¹ C++è¿˜æ˜¯åœ¨2020ç–«æƒ…åœ¨å®¶ä¸Šç½‘è¯¾çš„æ—¶å€™ï¼Œé‚£æ—¶å€™å› ä¸ºä¸Šå­¦æœŸæ²¡å­¦ä¹ Cï¼Œåªæ˜¯å¯’å‡åœ¨å®¶åˆ·äº†ä¸€ä¸‹Cçš„æ•™ç¨‹ï¼Œå†åŠ ä¸Šæ˜¯åœ¨å®¶ä¸Šç½‘è¯¾çš„æˆè¯¾å½¢å¼ï¼Œæ‰€ä»¥C++å­¦çš„ä¸€å¡Œç³Šæ¶‚ï¼ŒC++ä¸€ç›´æˆä¸ºè‡ªå·±çš„ä¸€å—å„¿â€œå¿ƒç—…â€ã€‚ä¹‹å‰ä¹Ÿæœ‰è¿‡å­¦ä¹ C++çš„æ‰“ç®—çš„ï¼Œä½†æ˜¯æ²¡æœ‰çœ‹åˆ°å¾ˆåˆé€‚çš„æ•™ç¨‹ï¼Œèƒ½æ‰¾åˆ°çš„æ•™ç¨‹éƒ½åœ¨æ•™å¾ˆåŸºç¡€çš„ä¸œè¥¿ï¼Œæˆ‘å¬èµ·æ¥ä¹Ÿè§‰å¾—æœ‰äº›æ— è¶£ã€‚å› ä¸ºå‰æ®µæ—¶é—´ä¸€ç›´éƒ½åœ¨å­¦ä¹ æ·±åº¦å­¦ä¹ çš„ä¸œè¥¿ï¼Œå­¦å¾—æœ‰ç‚¹çƒ¦ï¼Œå°±æƒ³å­¦äº›åˆ«çš„ä¸œè¥¿æ¢æ¢è„‘å­ï¼Œä¹Ÿç›¸å½“äºç»™è‡ª">
<meta property="og:type" content="article">
<meta property="og:title" content="ChernoCPP-2">
<meta property="og:url" content="https://blog.cosmicdusty.cc/post/Knowledge/ChernoCPP_2/index.html">
<meta property="og:site_name" content="Murphy Hou - Blog">
<meta property="og:description" content="ç¬¬ä¸€æ¬¡å­¦ä¹ C++è¿˜æ˜¯åœ¨2020ç–«æƒ…åœ¨å®¶ä¸Šç½‘è¯¾çš„æ—¶å€™ï¼Œé‚£æ—¶å€™å› ä¸ºä¸Šå­¦æœŸæ²¡å­¦ä¹ Cï¼Œåªæ˜¯å¯’å‡åœ¨å®¶åˆ·äº†ä¸€ä¸‹Cçš„æ•™ç¨‹ï¼Œå†åŠ ä¸Šæ˜¯åœ¨å®¶ä¸Šç½‘è¯¾çš„æˆè¯¾å½¢å¼ï¼Œæ‰€ä»¥C++å­¦çš„ä¸€å¡Œç³Šæ¶‚ï¼ŒC++ä¸€ç›´æˆä¸ºè‡ªå·±çš„ä¸€å—å„¿â€œå¿ƒç—…â€ã€‚ä¹‹å‰ä¹Ÿæœ‰è¿‡å­¦ä¹ C++çš„æ‰“ç®—çš„ï¼Œä½†æ˜¯æ²¡æœ‰çœ‹åˆ°å¾ˆåˆé€‚çš„æ•™ç¨‹ï¼Œèƒ½æ‰¾åˆ°çš„æ•™ç¨‹éƒ½åœ¨æ•™å¾ˆåŸºç¡€çš„ä¸œè¥¿ï¼Œæˆ‘å¬èµ·æ¥ä¹Ÿè§‰å¾—æœ‰äº›æ— è¶£ã€‚å› ä¸ºå‰æ®µæ—¶é—´ä¸€ç›´éƒ½åœ¨å­¦ä¹ æ·±åº¦å­¦ä¹ çš„ä¸œè¥¿ï¼Œå­¦å¾—æœ‰ç‚¹çƒ¦ï¼Œå°±æƒ³å­¦äº›åˆ«çš„ä¸œè¥¿æ¢æ¢è„‘å­ï¼Œä¹Ÿç›¸å½“äºç»™è‡ª">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://murhyimgur.oss-cn-beijing.aliyuncs.com/img/image-20231225120947890.png">
<meta property="article:published_time" content="2023-12-29T03:33:08.000Z">
<meta property="article:modified_time" content="2024-04-21T14:01:13.000Z">
<meta property="article:author" content="Murphy">
<meta property="article:tag" content="CPP">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://murhyimgur.oss-cn-beijing.aliyuncs.com/img/image-20231225120947890.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>ChernoCPP-2 - Murphy Hou - Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"blog.cosmicdusty.cc","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"https://murhyimgur.oss-cn-beijing.aliyuncs.com/website/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":"16d93d5abbd7ea15ec53daed5459ebf7","google":null,"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":"JijHNKemeVNog4wF7g9I5TR3","app_key":"FvsKdxHOP2aG5rHrHby5aV0b","server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null},"gtag":null,"woyaola":null,"cnzz":null},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  
    <!-- Baidu Analytics -->
    <script async>
      if (!Fluid.ctx.dnt) {
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?16d93d5abbd7ea15ec53daed5459ebf7";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
      }
    </script>
  

  

  

  

  
    
  



  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>CosmicDusty</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>é¦–é¡µ</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>å½’æ¡£</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>åˆ†ç±»</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>æ ‡ç­¾</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>å…³äº</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/" target="_self">
                <i class="iconfont icon-link-fill"></i>
                <span>å‹é“¾</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('https://murhyimgur.oss-cn-beijing.aliyuncs.com/img/image-20231225120947890.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="ChernoCPP-2"></span>
          
        </div>

        
          
  <div class="mt-3">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-author" aria-hidden="true"></i>
        Murphy
      </span>
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-12-29 11:33" pubdate>
          2023å¹´12æœˆ29æ—¥ ä¸­åˆ
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          16k å­—
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          134 åˆ†é’Ÿ
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">ChernoCPP-2</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="Back-to-Top"><a href="#Back-to-Top" class="headerlink" title="Back to Top"></a>Back to Top</h1><h2 id="Video-Links"><a href="#Video-Links" class="headerlink" title="Video Links"></a>Video Links</h2><div align = center>
  <iframe width="560" height="315" src="https://www.youtube.com/embed/18c3MTX0PK0?si=bLufMIg-rIzpv17Y" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
</div>

<h2 id="Notebook-Links"><a href="#Notebook-Links" class="headerlink" title="Notebook Links"></a>Notebook Links</h2><ul>
<li><a target="_blank" rel="noopener" href="https://thecherno.com/">Cherno (thecherno.com)</a></li>
<li><a target="_blank" rel="noopener" href="https://nagi.fun/Cherno-CPP-Notes/">ğŸ“˜ The Chernoâ€™s C++ Course Notes ğŸ“˜</a></li>
<li><a target="_blank" rel="noopener" href="https://space.bilibili.com/364152971/channel/collectiondetail?sid=13909">ç¥ç»å…ƒçŒ«çš„ä¸ªäººç©ºé—´-ç¥ç»å…ƒçŒ«ä¸ªäººä¸»é¡µ-å“”å“©å“”å“©è§†é¢‘ (bilibili.com)</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/%E9%A6%96%E9%A1%B5">cppreference.com</a></li>
<li><a target="_blank" rel="noopener" href="https://atomlab.org/posts/code/learn-cpp/learn-cpp/">å¦‚ä½•åœ¨ä¸¤å‘¨å†…å­¦ä¼šC++å¹¶æ„å»ºä¼˜è´¨çš„é¡¹ç›® | Atomlab</a></li>
<li><a target="_blank" rel="noopener" href="https://leetcode.cn/circle/discuss/h3upVc/">Bilibili ï½œ C++ å·¥ç¨‹å¸ˆï½œé¢ç»æ±‡æ€»ï½œ2020.12ï½œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></li>
<li><a target="_blank" rel="noopener" href="https://www.zhangjiee.com/blog/2012/how-to-learn-cpp.html">å¦‚ä½•å­¦ä¹ C++ (zhangjiee.com)</a></li>
<li><a target="_blank" rel="noopener" href="https://cppguide.cn/">CppGuideç¤¾åŒº</a></li>
</ul>
<h1 id="47-Dynamic-Arrays-in-C"><a href="#47-Dynamic-Arrays-in-C" class="headerlink" title="47. Dynamic Arrays in C++"></a>47. Dynamic Arrays in C++</h1><blockquote>
<p>æ‰€ä»¥C++æä¾›ç»™æˆ‘ä»¬ä¸€ä¸ªå«åš<code>Vector</code>çš„ç±»ï¼Œè¿™ä¸ªVectoråœ¨<em>std namespace</em>ï¼ˆstdå‘½åç©ºé—´ä¸­ï¼‰ã€‚</p>
<p>ä¸ºä»€ä¹ˆå«Vectorï¼Ÿå¯ä»¥åœ¨<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/581426/why-is-a-c-vector-called-a-vector">é“¾æ¥</a>ä¸­äº†è§£åˆ°èƒŒåçš„æ•…äº‹ï¼š å®ƒè¢«ç§°ä¸ºå‘é‡æ˜¯å› ä¸ºæ ‡å‡†æ¨¡æ¿åº“çš„è®¾è®¡è€… Alex Stepanov åœ¨å¯»æ‰¾ä¸€ä¸ªåç§°ä»¥åŒºåˆ†å®ƒä¸å†…ç½®æ•°ç»„æ—¶é‡‡ç”¨äº†è¿™ä¸ªåå­—ã€‚ä»–ç°åœ¨æ‰¿è®¤è¿™æ˜¯ä¸€ä¸ªé”™è¯¯ï¼Œå› ä¸ºæ•°å­¦å·²ç»ä½¿ç”¨æœ¯è¯­ â€œå‘é‡â€ æ¥è¡¨ç¤ºä¸€ç»„å›ºå®šé•¿åº¦çš„æ•°å­—åºåˆ—ã€‚è€Œ C++11 åˆ™è¿›ä¸€æ­¥åŠ é‡äº†è¿™ä¸ªé”™è¯¯ï¼Œå¼•å…¥äº†ä¸€ä¸ªåä¸º â€˜arrayâ€™ çš„ç±»ï¼Œå®ƒçš„è¡Œä¸ºç±»ä¼¼äºæ•°å­¦ä¸Šçš„å‘é‡ã€‚ Alex ç»™æˆ‘ä»¬çš„æ•™è®­æ˜¯ï¼šåœ¨ç»™äº‹ç‰©å‘½åæ—¶è¦éå¸¸å°å¿ƒè°¨æ…ã€‚</p>
<p>æ‰€ä»¥å®ƒå…¶å®ä¸åº”è¯¥è¢«å«åš<em>Vector</em>ï¼ˆå‘é‡ï¼‰ï¼Œè€Œæ˜¯åº”è¯¥è¢«ç§°ä¸ºç±»ä¼¼<em><strong>ArrayList</strong></em>ï¼Œè¿™æ ·æ›´æœ‰æ„ä¹‰ï¼Œå› ä¸ºå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª<strong>åŠ¨æ€æ•°ç»„</strong>ã€‚å®ƒæœ‰ç‚¹åƒä¸€ä¸ªé›†åˆï¼Œä¸€ä¸ªä¸å¼ºåˆ¶å…¶å®é™…å…ƒç´ å…·æœ‰å”¯ä¸€æ€§çš„é›†åˆã€‚ æ¢å¥è¯è¯´ï¼Œå®ƒåŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ª<em>array</em>ï¼ˆæ•°ç»„ï¼‰ï¼Œä¸è¿‡ä¸C++æ™®é€šæ•°ç»„ç±»å‹ï¼ˆåŸå§‹æ•°ç»„æˆ–æ ‡å‡†æ•°ç»„ç±»[31 Arrays in C++](<a target="_blank" rel="noopener" href="https://nagi.fun/Cherno-CPP-Notes/1-50/31">https://nagi.fun/Cherno-CPP-Notes/1-50/31</a> Arrays in C%2B%2B&#x2F;)ï¼‰ä¸åŒçš„æ˜¯ï¼Œå®ƒå¯<strong>ä»¥è°ƒæ•´æ•°ç»„å¤§å°</strong>ï¼Œè¿™æ„å‘³ç€å½“ä½ åˆ›å»ºè¿™ä¸ªvectorçš„æ—¶å€™ï¼Œè¿™ä¸ªåŠ¨æ€æ•°ç»„çš„æ—¶å€™ï¼Œå®ƒå¹¶<strong>æ²¡æœ‰å›ºå®šå¤§å°</strong>ã€‚ä½ å¯ä»¥ç»™å®ƒä¸€ä¸ªå›ºå®šå¤§å°ï¼Œå¦‚æœä½ æƒ³ç”¨ä¸€ä¸ªç‰¹å®šçš„å¤§å°åˆå§‹åŒ–å®ƒã€‚ä½†ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬ä¸ç»™å®ƒè®¾ç½®ä¸€ä¸ªsizeã€‚ ä½ åªéœ€è¦åˆ›å»ºè¿™ä¸ªVectorç„¶åæŠŠå…ƒç´ æ”¾è¿›å»ï¼Œæ¯æ¬¡ä½ å¾€é‡Œé¢æ”¾ä¸€ä¸ªå…ƒç´ ï¼Œæ•°ç»„å¤§å°ä¼šå¢é•¿ã€‚ </p>
<p><strong>åŸç†ï¼šå½“ä½ è¶…è¿‡åˆ†é…çš„å†…å­˜å¤§å°æ—¶ï¼Œå®ƒä¼šåœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªæ¯”ç¬¬ä¸€ä¸ªå¤§çš„æ–°æ•°ç»„ï¼ŒæŠŠæ‰€æœ‰ä¸œè¥¿éƒ½å¤åˆ¶åˆ°è¿™é‡Œï¼Œç„¶ååˆ é™¤æ—§çš„é‚£ä¸ªï¼Œè¿™æ ·ä½ å°±æ‹¥æœ‰äº†æ›´å¤šå­˜å‚¨ç©ºé—´çš„æ–°æ•°ç»„ã€‚</strong>ï¼ˆæ‰€ä»¥å¯ä»¥çŒœæµ‹Alexå½“æ—¶æ˜¯è§‰å¾—åŠ¨æ€æ•°ç»„å¯ä»¥åƒå‘é‡ä¸€æ ·æ— é™å»¶é•¿â€¦â€¦ï¼‰</p>
<p>[47 C++çš„åŠ¨æ€æ•°ç»„(std::vector) - cherno-cpp-notes (nagi.fun)](<a target="_blank" rel="noopener" href="https://nagi.fun/Cherno-CPP-Notes/1-50/47">https://nagi.fun/Cherno-CPP-Notes/1-50/47</a> Dynamic Arrays in C%2B%2B (std - -vector)&#x2F;)</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Vertex</span><br>&#123;<br>	<span class="hljs-type">float</span> x, y, z;<br>&#125;;<br><br>std::ostream&amp; <span class="hljs-keyword">operator</span>&lt;&lt;(std::ostream&amp; stream, <span class="hljs-type">const</span> Vertex&amp; vertex)<br>&#123;<br>	stream &lt;&lt; vertex.x &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; vertex.y &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; vertex.z;<br>	<span class="hljs-keyword">return</span> stream;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::vector&lt;Vertex&gt; vertices;<br>	vertices.<span class="hljs-built_in">push_back</span>(&#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> &#125;);<br>	vertices.<span class="hljs-built_in">push_back</span>(&#123; <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span> &#125;);<br><br>	std::cout &lt;&lt; <span class="hljs-string">&quot;first&quot;</span> &lt;&lt; std::endl;<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; vertices.<span class="hljs-built_in">size</span>(); i++)<br>		std::cout &lt;&lt; vertices[i] &lt;&lt; std::endl;<br><br>	std::cout &lt;&lt; <span class="hljs-string">&quot;second&quot;</span> &lt;&lt; std::endl;<br>	<span class="hljs-keyword">for</span> (Vertex&amp; v: vertices) <br>		std::cout &lt;&lt; v &lt;&lt; std::endl;<br>	<span class="hljs-comment">// è¿™æ˜¯ä¸€ç§æ–°çš„å†™æ³•ï¼ï¼</span><br><br>	std::cout &lt;&lt; <span class="hljs-string">&quot;third&quot;</span> &lt;&lt; std::endl;<br>	vertices.<span class="hljs-built_in">erase</span>(vertices.<span class="hljs-built_in">begin</span>() + <span class="hljs-number">1</span>);<br><br>	<span class="hljs-keyword">for</span> (Vertex&amp; v : vertices)<br>		std::cout &lt;&lt; v &lt;&lt; std::endl;<br><br>	std::cout &lt;&lt; <span class="hljs-string">&quot;forth&quot;</span> &lt;&lt; std::endl;<br>	vertices.<span class="hljs-built_in">clear</span>();<br>	<span class="hljs-comment">//for (vertex&amp; v : vertices)</span><br>	<span class="hljs-comment">//	std::cout &lt;&lt; v &lt;&lt; std::endl;</span><br><br><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br></code></pre></td></tr></table></figure>



<h1 id="48-Optimizing-the-usage-of-std-vector-in-C"><a href="#48-Optimizing-the-usage-of-std-vector-in-C" class="headerlink" title="48. Optimizing the usage of std::vector in C++"></a>48. Optimizing the usage of std::vector in C++</h1><blockquote>
<p><code>std::vector class</code>åŸºæœ¬ä¸Šæ˜¯è¿™æ ·å·¥ä½œçš„ï¼š ä½ åˆ›å»ºä¸€ä¸ª vectorï¼Œç„¶åä½ å¼€å§‹<code>push_back</code>å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯å‘æ•°ç»„ä¸­æ·»åŠ å…ƒç´ ã€‚å¦‚æœ vector çš„å®¹é‡ä¸å¤Ÿå¤§ï¼Œä¸èƒ½å®¹çº³ä½ æƒ³è¦çš„æ–°å…ƒç´ ã€‚vector éœ€è¦åˆ†é…æ–°çš„å†…å­˜ï¼Œè‡³å°‘è¶³å¤Ÿå®¹çº³è¿™äº›æƒ³è¦åŠ å…¥çš„æ–°å…ƒç´ å’Œå½“å‰å·²æœ‰çš„å†…å®¹ï¼Œä»å†…å­˜ä¸­çš„æ—§ä½ç½®å¤åˆ¶åˆ°å†…å­˜ä¸­çš„æ–°ä½ç½®ï¼Œç„¶ååˆ é™¤æ—§ä½ç½®çš„å†…å­˜ã€‚ æ‰€ä»¥å½“æˆ‘ä»¬å°è¯•<code>push_back</code>ä¸€ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œå¦‚æœå®¹é‡ç”¨å®Œï¼Œå®ƒå°±ä¼šè°ƒæ•´å¤§å°ï¼Œé‡æ–°è¿›è¡Œåˆ†é…â€”â€”è¿™å°±æ˜¯å°†ä»£ç æ‹–æ…¢çš„åŸå› ä¹‹ä¸€ã€‚äº‹å®ä¸Šï¼Œæˆ‘ä»¬éœ€è¦ä¸æ–­åœ°é‡æ–°åˆ†é…ï¼Œwhich is a ç¼“æ…¢çš„æ“ä½œï¼Œæˆ‘ä»¬éœ€è¦é‡æ–°åˆ†é…å½“æˆ‘ä»¬è¦å¤åˆ¶æ‰€æœ‰çš„ç°æœ‰å…ƒç´ çš„æ—¶å€™ï¼Œè¿™æ˜¯æˆ‘ä»¬è¦é¿å…çš„ã€‚ äº‹å®ä¸Šï¼Œè¿™å°±æ˜¯æˆ‘ä»¬ç°åœ¨å¯¹äºå¤åˆ¶çš„ä¼˜åŒ–ç­–ç•¥ï¼šæˆ‘ä»¬å¦‚ä½•é¿å…å¤åˆ¶å¯¹è±¡ï¼Œå¦‚æœæˆ‘ä»¬å¤„ç†çš„æ˜¯ vectorï¼Œç‰¹åˆ«æ˜¯åŸºäº vector çš„å¯¹è±¡<strong>ï¼ˆæˆ‘ä»¬æ²¡æœ‰å­˜å‚¨ vector æŒ‡é’ˆï¼Œæˆ‘ä»¬å­˜å‚¨çš„æ˜¯ vector å¯¹è±¡ï¼‰</strong>ã€‚</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Vertex</span><br>&#123;<br>	<span class="hljs-type">float</span> x, y, z;<br><br>	<span class="hljs-built_in">Vertex</span>(<span class="hljs-type">float</span> x, <span class="hljs-type">float</span> y, <span class="hljs-type">float</span> z)<br>		:<span class="hljs-built_in">x</span>(x), <span class="hljs-built_in">y</span>(y), <span class="hljs-built_in">z</span>(z) &#123;&#125;<br>	<br>	<span class="hljs-built_in">Vertex</span>(<span class="hljs-type">const</span> Vertex&amp; vertex)<br>		:<span class="hljs-built_in">x</span>(vertex.x), <span class="hljs-built_in">y</span>(vertex.y), <span class="hljs-built_in">z</span>(vertex.z)<br>	&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;Copied!&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::vector&lt;Vertex&gt; vertices;<br>	vertices.<span class="hljs-built_in">push_back</span>(<span class="hljs-built_in">Vertex</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>));<br>	vertices.<span class="hljs-built_in">push_back</span>(<span class="hljs-built_in">Vertex</span>(<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));<br>	vertices.<span class="hljs-built_in">push_back</span>(<span class="hljs-built_in">Vertex</span>(<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>));<br><br><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">Copied!</span><br><span class="hljs-comment">Copied!</span><br><span class="hljs-comment">Copied!</span><br><span class="hljs-comment">Copied!</span><br><span class="hljs-comment">Copied!</span><br><span class="hljs-comment">Copied!</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure>


<ul>
<li>å¦‚æœæˆ‘ä»¬äº†è§£è‡ªå·±çš„â€œç¯å¢ƒâ€ï¼Œå°±æ˜¯å¦‚æœæˆ‘ä»¬çŸ¥é“æœ¬èº«è®¡åˆ’è¦æ”¾è¿› 3 ä¸ª vertex å¯¹è±¡ï¼Œä¸ºä»€ä¹ˆä¸è®© vector ä¸€å¼€å§‹å°±ç•™ä¸‹è¶³å¤Ÿ 3 ä¸ªå…ƒç´ çš„å†…å­˜ï¼Œè¿™æ ·å°±ä¸ç”¨è°ƒæ•´ä¸¤æ¬¡å¤§å°äº†ã€‚ -&gt; <code>vertices.reserve(3);</code>è¿™å°±æ˜¯ç¬¬äºŒç§ä¼˜åŒ–ç­–ç•¥ã€‚</li>
<li>æˆ‘ä»¬æ‰€åšçš„å°±æ˜¯å°† vertex ä» main å‡½æ•°å¤åˆ¶åˆ° vector ç±»ä¸­,å¦‚æœæˆ‘ä»¬å¯ä»¥å†é€‚å½“çš„ä½ç½®æ„é€ é‚£ä¸ª vertexï¼Œåœ¨ vector å®é™…åˆ†é…çš„å†…å­˜ä¸­ï¼Œè¿™å°±æ˜¯ä¼˜åŒ–ç­–ç•¥ä¸€å·ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸æ˜¯ä¼ é€’æˆ‘ä»¬å·²ç»æ„å»ºçš„ vertex å¯¹è±¡ï¼Œè€Œæ˜¯åªæ˜¯ä¼ é€’äº†æ„é€ å‡½æ•°çš„å‚æ•°åˆ—è¡¨ï¼Œå®ƒå‘Šè¯‰æˆ‘ä»¬çš„ vectorï¼šåœ¨æˆ‘ä»¬æ˜¯çš„ vector å†…å­˜ä¸­ï¼Œä½¿ç”¨ä»¥ä¸‹å‚æ•°æ¥æ„é€ ä¸€ä¸ª vertex å¯¹è±¡ã€‚</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Vertex</span><br>&#123;<br>	<span class="hljs-type">float</span> x, y, z;<br><br>	<span class="hljs-built_in">Vertex</span>(<span class="hljs-type">float</span> x, <span class="hljs-type">float</span> y, <span class="hljs-type">float</span> z)<br>		:<span class="hljs-built_in">x</span>(x), <span class="hljs-built_in">y</span>(y), <span class="hljs-built_in">z</span>(z) &#123;&#125;<br>	<br>	<span class="hljs-built_in">Vertex</span>(<span class="hljs-type">const</span> Vertex&amp; vertex)<br>		:<span class="hljs-built_in">x</span>(vertex.x), <span class="hljs-built_in">y</span>(vertex.y), <span class="hljs-built_in">z</span>(vertex.z)<br>	&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;Copied!&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::vector&lt;Vertex&gt; vertices;<br>	vertices.<span class="hljs-built_in">reserve</span>(<span class="hljs-number">3</span>);<br>	vertices.<span class="hljs-built_in">emplace_back</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>);<br>	vertices.<span class="hljs-built_in">emplace_back</span>(<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>);<br>	vertices.<span class="hljs-built_in">emplace_back</span>(<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>);<br><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">No any copies!</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure>



<h1 id="49-Using-Libraries-in-C-Static-Linking"><a href="#49-Using-Libraries-in-C-Static-Linking" class="headerlink" title="49. Using Libraries in C++(Static Linking)"></a>49. Using Libraries in C++(Static Linking)</h1><p><a target="_blank" rel="noopener" href="https://www.glfw.org/">An OpenGL library | GLFW</a></p>
<p>[49 C++ä¸­ä½¿ç”¨åº“ï¼ˆé™æ€é“¾æ¥ï¼‰ - cherno-cpp-notes (nagi.fun)](<a target="_blank" rel="noopener" href="https://nagi.fun/Cherno-CPP-Notes/1-50/49">https://nagi.fun/Cherno-CPP-Notes/1-50/49</a> Using Libraries in C%2B%2B (Static Linking)&#x2F;)</p>
<h2 id="é™æ€é“¾æ¥ä¸åŠ¨æ€é“¾æ¥"><a href="#é™æ€é“¾æ¥ä¸åŠ¨æ€é“¾æ¥" class="headerlink" title="é™æ€é“¾æ¥ä¸åŠ¨æ€é“¾æ¥"></a>é™æ€é“¾æ¥ä¸åŠ¨æ€é“¾æ¥</h2><ul>
<li><p>é™æ€é“¾æ¥</p>
<ul>
<li><strong>é™æ€é“¾æ¥æ„å‘³ç€è¿™ä¸ªåº“ä¼šè¢«æ”¾åˆ°ä½ çš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­</strong>ï¼ˆå®ƒåœ¨ä½ çš„ exe æ–‡ä»¶å†…éƒ¨ï¼Œæˆ–è€…å…¶å®ƒæ“ä½œç³»ç»Ÿä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶å†…ï¼‰ã€‚</li>
</ul>
</li>
<li><p>åŠ¨æ€é“¾æ¥</p>
<ul>
<li>åŠ¨æ€é“¾æ¥åº“æ˜¯åœ¨è¿è¡Œæ—¶è¢«é“¾æ¥çš„é¢ï¼Œæ‰€ä»¥ä½ ä»æœ‰ä¸€äº›é“¾æ¥ï¼Œä½ å¯ä»¥é€‰æ‹©åœ¨ç¨‹åºè¿è¡Œæ—¶è£…è½½åŠ¨æ€é“¾æ¥åº“ï¼Œæœ‰ä¸€ä¸ªå«<em>loadLibrary</em>çš„å‡½æ•°ï¼Œä½ å¯ä»¥åœ¨ WindowsAPI ä¸­ä½¿ç”¨å®ƒä½œä¸ºä¾‹å­ã€‚å®ƒä¼šè½½å…¥ä½ çš„åŠ¨æ€åº“ï¼Œå¯ä»¥ä»ä¸­æ‹‰å‡ºå‡½æ•°ç„¶åå¼€å§‹è°ƒç”¨ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶åŠ è½½ä½ çš„ dll æ–‡ä»¶ï¼Œè¿™å°±æ˜¯ä½ çš„<em>Dynamic Link Library</em>ï¼ˆåŠ¨æ€é“¾æ¥åº“ï¼‰ã€‚</li>
<li><strong>æ‰€ä»¥ä¸»è¦çš„åŒºåˆ«å°±æ˜¯ï¼šåº“æ–‡ä»¶æ˜¯å¦è¢«ç¼–è¯‘åˆ° exe æ–‡ä»¶ä¸­ï¼Œæˆ–é“¾æ¥åˆ° exe æ–‡ä»¶ä¸­ï¼Œè¿˜æ˜¯ä¸€ä¸ªåœ¨è¿è¡Œæ—¶å•ç‹¬çš„æ–‡ä»¶ï¼Œä½ éœ€è¦æŠŠå®ƒæ”¾åœ¨ä½ çš„ exe æ–‡ä»¶æ—è¾¹æˆ–æŸä¸ªåœ°æ–¹ï¼Œç„¶åä½ çš„ exe æ–‡ä»¶å¯ä»¥åŠ è½½å®ƒã€‚å› ä¸ºè¿™ç§ä¾èµ–æ€§ï¼Œä½ éœ€è¦æŠŠ exe æ–‡ä»¶å’Œ dll æ–‡ä»¶å¼„åœ¨ä¸€èµ·ã€‚</strong></li>
<li>æ‰€ä»¥é€šå¸¸å–œæ¬¢ç”¨é™æ€çš„ã€‚é™æ€é“¾æ¥åœ¨æŠ€æœ¯ä¸Šæ›´å¿«ï¼Œå› ä¸ºç¼–è¯‘å™¨æˆ–é“¾æ¥å™¨å®é™…ä¸Šå¯ä»¥æ‰§è¡Œé“¾æ¥æ—¶ä¼˜åŒ–ä¹‹ç±»çš„ã€‚é™æ€é“¾æ¥åœ¨æŠ€æœ¯ä¸Šå¯ä»¥äº§ç”Ÿæ›´å¿«çš„åº”ç”¨ç¨‹åºï¼Œå› ä¸ºæœ‰å‡ ç§ä¼˜åŒ–æ–¹æ³•å¯ä»¥åº”ç”¨ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“åœ¨é“¾æ¥æ—¶è¦é“¾æ¥çš„å‡½æ•°ã€‚è€Œå¯¹äºåŠ¨æ€åº“ï¼Œæˆ‘ä»¬ä¸çŸ¥é“ä¼šå‘ç”Ÿä»€ä¹ˆè€Œå¿…é¡»ä¿æŒå®ƒçš„å®Œæ•´ï¼Œå½“åŠ¨æ€é“¾æ¥åº“è¢«è¿è¡Œæ—¶çš„ç¨‹åºè£…è½½æ—¶ï¼Œç¨‹åºçš„éƒ¨åˆ†å°†è¢«è¡¥å……å®Œæ•´ã€‚</li>
</ul>
</li>
</ul>
<p>æ‰€ä»¥é€šå¸¸æƒ…å†µä¸‹ï¼Œ<strong>é™æ€é“¾æ¥æ˜¯æ›´å¥½çš„é€‰æ‹©</strong>ã€‚</p>
<h2 id="é™æ€é“¾æ¥å®ä¾‹"><a href="#é™æ€é“¾æ¥å®ä¾‹" class="headerlink" title="é™æ€é“¾æ¥å®ä¾‹"></a>é™æ€é“¾æ¥å®ä¾‹</h2><p>åœ¨Visual Studioä¸­ï¼Œéœ€è¦å¯¹Solution Propertyè¿›è¡Œä¿®æ”¹ã€‚å‚è€ƒï¼š[49 C++ä¸­ä½¿ç”¨åº“ï¼ˆé™æ€é“¾æ¥ï¼‰ - cherno-cpp-notes (nagi.fun)](<a target="_blank" rel="noopener" href="https://nagi.fun/Cherno-CPP-Notes/1-50/49">https://nagi.fun/Cherno-CPP-Notes/1-50/49</a> Using Libraries in C%2B%2B (Static Linking)&#x2F;)</p>
<h1 id="50-Using-Dynamic-Libraries-in-C"><a href="#50-Using-Dynamic-Libraries-in-C" class="headerlink" title="50. Using Dynamic Libraries in C++"></a>50. Using Dynamic Libraries in C++</h1><p>åŠ¨æ€é“¾æ¥å‘ç”Ÿåœ¨<em>runtime</em>ï¼ˆè¿è¡Œæ—¶ï¼‰ï¼Œè€Œé™æ€é“¾æ¥æ˜¯åœ¨ç¼–è¯‘æ—¶å‘ç”Ÿçš„ã€‚ å½“ä½ ç¼–è¯‘ä¸€ä¸ªé™æ€åº“çš„æ—¶å€™ï¼Œå°†å…¶é“¾æ¥åˆ°å¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯åº”ç”¨ç¨‹åºï¼Œæˆ–è€…é“¾æ¥åˆ°ä¸€ä¸ªåŠ¨æ€åº“ã€‚å°±åƒä½ å–å‡ºäº†é‚£ä¸ªé™æ€åº“çš„å†…å®¹ï¼Œç„¶åä½ æŠŠé‚£äº›å†…å®¹æ”¾å…¥åˆ°å…¶å®ƒçš„äºŒè¿›åˆ¶æ•°æ®ä¸­ï¼Œå®é™…åœ¨ä½ çš„åŠ¨æ€åº“ä¸­æˆ–è€…åœ¨ä½ çš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚</p>
<p>æœ‰å¾ˆå¤šåœ°æ–¹å¯ä»¥ä¼˜åŒ–ï¼Œå› ä¸ºç¼–è¯‘å™¨å’Œé“¾æ¥å™¨ç°åœ¨å®Œå…¨çŸ¥é“é™æ€é“¾æ¥æ—¶å®é™…è¿›å…¥åº”ç”¨ç¨‹åºçš„ä»£ç ï¼ˆé™æ€é“¾æ¥å…è®¸æ›´å¤šçš„ä¼˜åŒ–å‘ç”Ÿï¼‰ã€‚ è€ŒåŠ¨æ€é“¾æ¥å‘ç”Ÿåœ¨è¿è¡Œæ—¶ï¼Œæ‰€ä»¥åªæœ‰ä½ çœŸæ­£å¯åŠ¨ä½ çš„å¯æ‰§è¡Œæ–‡ä»¶æ—¶ï¼Œä½ çš„åŠ¨æ€é“¾æ¥åº“æ‰ä¼šè¢«åŠ åœ¨ï¼Œæ‰€ä»¥å®ƒå®é™…ä¸Šä¸æ˜¯å¯æ‰§è¡Œæ–‡ä»¶çš„ä¸€éƒ¨åˆ†ï¼ˆè¿è¡Œæ—¶å°†ä¸€ä¸ªé¢å¤–çš„æ–‡ä»¶åŠ è½½åˆ°å†…å­˜ä¸­ï¼‰ã€‚</p>
<p>ç°åœ¨å¯æ‰§è¡Œæ–‡ä»¶åœ¨å®é™…è¿è¡Œå‰å°±éœ€è¦å…·å¤‡æŸäº›åº“ã€æŸäº›åŠ¨æ€åº“ã€æŸäº›å¤–éƒ¨æ–‡ä»¶ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ åœ¨Windowsä¸Šå¯åŠ¨ä¸€ä¸ªåº”ç”¨ç¨‹åºæ—¶ï¼Œå¯èƒ½çœ‹åˆ°ä¸€ä¸ªé”™è¯¯æ¶ˆæ¯å¼¹å‡ºï¼šéœ€è¦dllã€æ²¡æœ‰æ‰¾åˆ°dllâ€¦â€¦. è¿™æ˜¯åŠ¨æ€é“¾æ¥çš„ä¸€ç§å½¢å¼ï¼Œå¯æ‰§è¡Œæ–‡ä»¶çŸ¥é“åŠ¨æ€é“¾æ¥åº“çš„å­˜åœ¨ï¼ŒæŠŠåŠ¨æ€åº“ä½œä¸ºä¸€é¡¹éœ€è¦ï¼Œè™½ç„¶åŠ¨æ€åº“ä»ç„¶æ˜¯ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ï¼Œä¸€ä¸ªå•ç‹¬çš„æ¨¡å—ï¼Œå¹¶åœ¨è¿è¡Œæ—¶åŠ è½½ã€‚ä½ ä¹Ÿå¯ä»¥å®Œå…¨åŠ¨æ€åœ°åŠ è½½åŠ¨æ€åº“ï¼Œè¿™æ ·å¯æ‰§è¡Œæ–‡ä»¶å°±ä¸åŠ¨æ€åº“å®Œå…¨æ²¡æœ‰ä»»ä½•å…³ç³»äº†ï¼Œä½†æ˜¯åœ¨ä½ çš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œä½ å¯ä»¥æŸ¥æ‰¾å¹¶åœ¨è¿è¡Œæ—¶åŠ è½½æŸäº›åŠ¨æ€åº“ï¼Œç„¶åè·å¾—æŸäº›å‡½æ•°æŒ‡é’ˆæˆ–è€…åŠ¨æ€åº“é‡Œä½ æƒ³è¦çš„ä¸œè¥¿ï¼Œç„¶åä½¿ç”¨é‚£ä¸ªåŠ¨æ€åº“ã€‚</p>
<p>å¯¹äºåŠ¨æ€åº“ï¼Œè¯·è®°ä½ä¸¤ä¸ªç‰ˆæœ¬ã€‚ ç¬¬ä¸€ä¸ªæ˜¯â€œé™æ€çš„â€åŠ¨æ€åº“çš„ç‰ˆæœ¬ï¼Œæˆ‘çš„åº”ç”¨ç¨‹åºç°åœºéœ€è¦è¿™ä¸ªåŠ¨æ€é“¾æ¥åº“ï¼Œæˆ‘å·²ç»çŸ¥é“é‡Œé¢æœ‰ä»€ä¹ˆå‡½æ•°ï¼Œæˆ‘å¯ä»¥ç”¨ä»€ä¹ˆã€‚ ç¬¬äºŒä¸ªç‰ˆæœ¬æ˜¯æˆ‘æƒ³ä»»æ„åŠ è½½è¿™ä¸ªåŠ¨æ€åº“ï¼Œæˆ‘ç”šè‡³ä¸éœ€è¦çŸ¥é“é‡Œé¢æœ‰ä»€ä¹ˆï¼Œä½†æˆ‘æƒ³å–å‡ºä¸€äº›ä¸œè¥¿æˆ–è€…åšå¾ˆå¤šäº‹ã€‚ è¿™ä¸¤ç§åŠ¨æ€åº“éƒ½æœ‰å¾ˆå¥½çš„ç”¨é€”ï¼Œå…ˆä¸“æ³¨çœ‹ç¬¬ä¸€ç§ï¼šæˆ‘çŸ¥é“æˆ‘çš„åº”ç”¨ç¨‹åºéœ€è¦è¿™ä¸ªåº“ï¼Œä½†æˆ‘è¦åŠ¨æ€åœ°é“¾æ¥å®ƒã€‚</p>
<p>å¦‚æœä½ è¦å¯¹æ¯”é™æ€å’ŒåŠ¨æ€é“¾æ¥çš„è¯ï¼Œå¯¹äºå‡½æ•°ä¹‹ç±»çš„å£°æ˜ï¼ŒåŠ¨æ€é“¾æ¥æ—¶å®é™…æœ‰äº›ä¸åŒã€‚ä½†GLFWåƒå¤§å¤šæ•°åº“ä¸€æ ·ï¼ŒåŒæ—¶æ”¯æŒé™æ€å’ŒåŠ¨æ€é“¾æ¥ï¼Œä½¿ç”¨ç›¸åŒçš„å¤´æ–‡ä»¶ã€‚</p>
<p>è§ä¸ŠèŠ‚è¯¾ï¼Œ<code>.dll</code>å’Œ<code>dll.lib</code>åŒæ—¶ç¼–è¯‘æ˜¯éå¸¸é‡è¦çš„ï¼Œå› ä¸ºå¦‚æœä½ å°è¯•ä½¿ç”¨ä¸åŒçš„é™æ€åº“ï¼Œåœ¨è¿è¡Œæ—¶é“¾æ¥åˆ°dllï¼Œä½ å¯èƒ½ä¼šå¾—åˆ°ä¸åŒ¹é…çš„å‡½æ•°å’Œé”™è¯¯ç±»å‹çš„å†…å­˜åœ°å€ï¼Œå‡½æ•°æŒ‡é’ˆä¸ä¼šæ­£å¸¸å·¥ä½œã€‚</p>
<h1 id="51-Making-and-Working-with-Libraries-in-C-Multiple-Projects-in-Visual-Studio"><a href="#51-Making-and-Working-with-Libraries-in-C-Multiple-Projects-in-Visual-Studio" class="headerlink" title="51. Making and Working with Libraries in C++(Multiple Projects in Visual Studio)"></a>51. Making and Working with Libraries in C++(Multiple Projects in Visual Studio)</h1><p>[51 C++ä¸­åˆ›å»ºä¸ä½¿ç”¨åº“ - cherno-cpp-notes (nagi.fun)](<a target="_blank" rel="noopener" href="https://nagi.fun/Cherno-CPP-Notes/51-100/51">https://nagi.fun/Cherno-CPP-Notes/51-100/51</a> Making and Working with Libraries in C%2B%2B (Multiple Projects in VS)&#x2F;)</p>
<h1 id="52-How-to-Deal-with-Multiple-Return-Values-in-C"><a href="#52-How-to-Deal-with-Multiple-Return-Values-in-C" class="headerlink" title="52. How to Deal with Multiple Return Values in C++"></a>52. How to Deal with Multiple Return Values in C++</h1><p>[52 C++ä¸­å¦‚ä½•å¤„ç†å¤šè¿”å›å€¼ - cherno-cpp-notes (nagi.fun)](<a target="_blank" rel="noopener" href="https://nagi.fun/Cherno-CPP-Notes/51-100/52">https://nagi.fun/Cherno-CPP-Notes/51-100/52</a> How to Deal with Multiple Return Values in C%2B%2B&#x2F;)</p>
<h2 id="1-æŒ‡é’ˆå’Œå¼•ç”¨"><a href="#1-æŒ‡é’ˆå’Œå¼•ç”¨" class="headerlink" title="1. æŒ‡é’ˆå’Œå¼•ç”¨"></a>1. æŒ‡é’ˆå’Œå¼•ç”¨</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">returnWithReference</span><span class="hljs-params">(std::string&amp; str, <span class="hljs-type">int</span>&amp; num)</span></span><br><span class="hljs-function"></span>&#123;<br>	str = <span class="hljs-string">&quot;Hello&quot;</span>;<br>	num = <span class="hljs-number">42</span>;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::string str;<br>	<span class="hljs-type">int</span> num;<br>	<span class="hljs-built_in">returnWithReference</span>(str, num);<br><br>	std::cout &lt;&lt; str &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; num &lt;&lt; std::endl;<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>




<h2 id="2-arrayå’Œvector"><a href="#2-arrayå’Œvector" class="headerlink" title="2. arrayå’Œvector"></a>2. arrayå’Œvector</h2><blockquote>
<p>Arrayå’Œvectorçš„åŒºåˆ«ï¼šarrayä¼šåœ¨æ ˆä¸Šåˆ›å»ºï¼Œè€Œvectorä¼šæŠŠå®ƒçš„åº•å±‚å­˜å‚¨åœ¨å †ä¸Šï¼Œæ‰€ä»¥ä»æŠ€æœ¯ä¸Šè®²è¿”å›<code>std::array</code>ä¼šæ›´å¿«ã€‚</p>
<p>æ³¨æ„ï¼šå¤šè¿”å›å€¼éœ€è¦æ˜¯åŒç±»å‹</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;array&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><br><span class="hljs-function">std::array&lt;<span class="hljs-type">int</span>, 2&gt; <span class="hljs-title">returnWithArray</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::array&lt;<span class="hljs-type">int</span>, 2&gt; result;<br><br>	result[<span class="hljs-number">0</span>] = <span class="hljs-number">42</span>;<br>	result[<span class="hljs-number">1</span>] = <span class="hljs-number">56</span>;<br><br>	<span class="hljs-keyword">return</span> result;<br>&#125;<br><br><span class="hljs-function">std::vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">returnWithVector</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::vector&lt;<span class="hljs-type">int</span>&gt; result;<br><br>	result.<span class="hljs-built_in">push_back</span>(<span class="hljs-number">42</span>);<br>	result.<span class="hljs-built_in">push_back</span>(<span class="hljs-number">56</span>);<br><br>	<span class="hljs-keyword">return</span> result;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::array&lt;<span class="hljs-type">int</span>, 2&gt; arrResult = <span class="hljs-built_in">returnWithArray</span>();<br>	std::cout &lt;&lt; arrResult[<span class="hljs-number">0</span>] &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; arrResult[<span class="hljs-number">1</span>] &lt;&lt; std::endl;<br><br>	std::vector&lt;<span class="hljs-type">int</span>&gt; vecResult = <span class="hljs-built_in">returnWithVector</span>();<br>	std::cout &lt;&lt; vecResult[<span class="hljs-number">0</span>] &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; vecResult[<span class="hljs-number">1</span>] &lt;&lt; std::endl;<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<h2 id="3-tupleå’Œpair"><a href="#3-tupleå’Œpair" class="headerlink" title="3. tupleå’Œpair"></a>3. tupleå’Œpair</h2><blockquote>
<p>tupleåŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªç±»ï¼Œå®ƒå¯ä»¥åŒ…å«xä¸ªå˜é‡ï¼Œä½†ä¸å…³å¿ƒç±»å‹ï¼Œ</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;tuple&gt;</span></span><br><br><span class="hljs-function">std::tuple&lt;std::string, <span class="hljs-type">int</span>&gt; <span class="hljs-title">returnWithTuple</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-keyword">return</span> std::<span class="hljs-built_in">make_tuple</span>(<span class="hljs-string">&quot;Hello&quot;</span>, <span class="hljs-number">42</span>);<br>&#125;<br><br><span class="hljs-function">std::pair&lt;std::string, <span class="hljs-type">int</span>&gt; <span class="hljs-title">returnWithPair</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-keyword">return</span> std::<span class="hljs-built_in">make_pair</span>(<span class="hljs-string">&quot;Hello&quot;</span>, <span class="hljs-number">42</span>);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::tuple&lt;std::string, <span class="hljs-type">int</span>&gt; tupleResult = <span class="hljs-built_in">returnWithTuple</span>();<br>	std::cout &lt;&lt; std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-number">0</span>&gt;(tupleResult) &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-number">1</span>&gt;(tupleResult) &lt;&lt; std::endl;<br><br>	std::pair&lt;std::string, <span class="hljs-type">int</span>&gt; pairResult = <span class="hljs-built_in">returnWithPair</span>();<br>	std::cout &lt;&lt; pairResult.first &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; pairResult.second &lt;&lt; std::endl;<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="4-Structâ­-Chernoæ¨èä½¿ç”¨çš„æ–¹æ³•"><a href="#4-Structâ­-Chernoæ¨èä½¿ç”¨çš„æ–¹æ³•" class="headerlink" title="4. Structâ­ (Chernoæ¨èä½¿ç”¨çš„æ–¹æ³•)"></a>4. Structâ­ (Chernoæ¨èä½¿ç”¨çš„æ–¹æ³•)</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Result</span><br>&#123;<br>	std::string str;<br>	<span class="hljs-type">int</span> num;<br>&#125;;<br><br><span class="hljs-function">Result <span class="hljs-title">returnWithStruct</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	Result result;<br>	result.str = <span class="hljs-string">&quot;Hello&quot;</span>;<br>	result.num = <span class="hljs-number">42</span>;<br><br>	<span class="hljs-keyword">return</span> result;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	Result structResult = <span class="hljs-built_in">returnWithStruct</span>();<br>	std::cout &lt;&lt; structResult.str &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; structResult.num &lt;&lt; std::endl;<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<h1 id="53-Templates-in-C"><a href="#53-Templates-in-C" class="headerlink" title="53. Templates in C++"></a>53. Templates in C++</h1><h2 id="1-å‡½æ•°é‡è½½"><a href="#1-å‡½æ•°é‡è½½" class="headerlink" title="1. å‡½æ•°é‡è½½"></a>1. å‡½æ•°é‡è½½</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Print</span><span class="hljs-params">(<span class="hljs-type">int</span> value)</span></span><br><span class="hljs-function"></span>&#123;<br>	std::cout &lt;&lt; value &lt;&lt; std::endl;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Print</span><span class="hljs-params">(std::string value)</span></span><br><span class="hljs-function"></span>&#123;<br>	std::cout &lt;&lt; value &lt;&lt; std::endl;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Print</span><span class="hljs-params">(<span class="hljs-type">float</span> value)</span></span><br><span class="hljs-function"></span>&#123;<br>	std::cout &lt;&lt; value &lt;&lt; std::endl;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-built_in">Print</span>(<span class="hljs-number">5</span>);<br>	<span class="hljs-built_in">Print</span>(<span class="hljs-string">&quot;Hello&quot;</span>);<br>	<span class="hljs-built_in">Print</span>(<span class="hljs-number">5.5f</span>);<br><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="2-æ¨¡æ¿"><a href="#2-æ¨¡æ¿" class="headerlink" title="2. æ¨¡æ¿"></a>2. æ¨¡æ¿</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Print</span><span class="hljs-params">(T value)</span></span><br><span class="hljs-function"></span>&#123;<br>	std::cout &lt;&lt; value &lt;&lt; std::endl;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-built_in">Print</span>(<span class="hljs-number">5</span>);<br>	<span class="hljs-built_in">Print</span>(<span class="hljs-string">&quot;Hello&quot;</span>);<br>	<span class="hljs-built_in">Print</span>(<span class="hljs-number">5.5f</span>);<br><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>æ¨¡æ¿åªæœ‰åœ¨å®ƒè¢«è°ƒç”¨æ—¶æ‰ä¼šåˆ›å»ºï¼Œå¦åˆ™å®ƒæ ¹æœ¬å°±ä¸å­˜åœ¨ã€‚ä½ ç”šè‡³åœ¨é‡Œé¢æœ‰è¯­æ³•é”™è¯¯ï¼Œåªè¦ä¸è°ƒç”¨éƒ½ä¸ä¼šå½±å“ç¼–è¯‘ã€‚<strong>ï¼ˆè§†é¢‘ä¸­çš„VS2017æ˜¯è¿™æ ·çš„ï¼Œä½†ç›®å‰VS2022ä¸­çš„é”™è¯¯å°±ç®—ä¸è°ƒç”¨ä¹Ÿä¼šå½±å“ç¼–è¯‘ã€‚ï¼‰</strong></p>
</blockquote>
<h2 id="3-ç”¨åœ¨ç±»ä¸Šçš„æ¨¡æ¿"><a href="#3-ç”¨åœ¨ç±»ä¸Šçš„æ¨¡æ¿" class="headerlink" title="3. ç”¨åœ¨ç±»ä¸Šçš„æ¨¡æ¿"></a>3. ç”¨åœ¨ç±»ä¸Šçš„æ¨¡æ¿</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-type">int</span> N&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Array</span><br>&#123;<br><span class="hljs-keyword">private</span>:<br>	T m_Array[N];<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">GetSize</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> N; &#125;<br>&#125;;<br><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	Array&lt;<span class="hljs-type">int</span>, <span class="hljs-number">5</span>&gt; array1;<br>	std::cout &lt;&lt; array<span class="hljs-number">1.</span><span class="hljs-built_in">GetSize</span>() &lt;&lt; std::endl;<br><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="4-å“ªé‡Œç”¨æ¨¡æ¿ï¼Ÿå“ªé‡Œä¸ç”¨"><a href="#4-å“ªé‡Œç”¨æ¨¡æ¿ï¼Ÿå“ªé‡Œä¸ç”¨" class="headerlink" title="4. å“ªé‡Œç”¨æ¨¡æ¿ï¼Ÿå“ªé‡Œä¸ç”¨"></a>4. å“ªé‡Œç”¨æ¨¡æ¿ï¼Ÿå“ªé‡Œä¸ç”¨</h2><p>æœ¬éƒ¨åˆ†å®Œå…¨æ˜¯ä¸»è§‚çš„ï¼Œä»…ä¾›å‚è€ƒã€‚ <strong>å¾ˆå¤šæ¸¸æˆå·¥ä½œå®¤æˆ–è½¯ä»¶å…¬å¸å®é™…ä¸Šç¦æ­¢ä½¿ç”¨æ¨¡æ¿</strong>ï¼Œä½†æ¨¡æ¿éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚åœ¨æ—¥å¿—ç³»ç»Ÿæˆ–è€…å…¶å®ƒçš„ä½¿ç”¨åœºæ™¯ä¸‹ï¼Œä½ æƒ³è®°å½•æ¯ä¸€ç§å¯èƒ½çš„ç±»å‹ï¼Œéš¾é“ä½ çœŸçš„è¦ä¸ºæ¯ä¸ªå‡½æ•°éƒ½è¿›è¡Œé‡è½½å—ï¼Ÿä½ å¯ä»¥ç”¨æ¨¡æ¿è‡ªåŠ¨å®Œæˆï¼Œä¹Ÿå°±æ˜¯ä½ å¯ä»¥è®©ç¼–è¯‘å™¨åŸºäºä¸€äº›è§„åˆ™ä¸ºä½ å†™ä»£ç ã€‚ è¿™æ˜¯è¯´ï¼Œä½ å¯ä»¥æ·±å…¥ä½¿ç”¨æ¨¡æ¿æ¥åšä¸€äº›å¾ˆå¥½çš„äº‹ï¼Œä½†å¦‚æœä½ çš„æ¨¡æ¿å˜å¾—éå¸¸å¤æ‚ï¼Œä½ å¼€å§‹è®©å®ƒä¸ºä½ ç”Ÿæˆä¸€ä¸ªå®Œæ•´çš„å…ƒè¯­è¨€å°±æœ‰ç‚¹è¿‡å¤´äº†ã€‚å› ä¸ºè¿™é‡Œæœ‰ä¸€ä¸ªå¹³è¡¡ç‚¹ï¼Œå½“æ¨¡æ¿å˜å¾—è¶Šæ¥è¶Šå¤æ‚æ—¶ï¼Œæ²¡äººèƒ½ææ‡‚å®ƒæ˜¯åšä»€ä¹ˆçš„äº†ï¼Œä½ å¾—èŠ±å¤§é‡æ—¶é—´å¼„æ¸…æ¥šå“ªäº›ä»£ç å·²ç»è¢«ç¼–è¯‘äº†ä»¥åŠä½ çš„æ¨¡æ¿åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆè€Œä¸èƒ½å·¥ä½œã€‚è¿™ç§æƒ…å†µè¯´æ˜ä½ åšçš„è¿‡å¤´äº†ã€‚</p>
<p>Cherno çš„è§‚ç‚¹æ˜¯ï¼šæ‰‹åŠ¨åšä¸€äº›äº‹ï¼Œè‡ªå·±å†™ä»£ç å®é™…ä¸Šä¼šè®©ä½ å’Œä½ çš„å›¢é˜Ÿå—ç›Šæ›´å¤šï¼Œè€Œä¸æ˜¯è¯•å›¾åˆ›å»ºåºå¤§çš„æ¨¡æ¿é­”æ³•èˆ¬åœ°ä¸ºä½ åšæ‰€æœ‰äº‹ã€‚æ‰€ä»¥æ¨¡æ¿ä¸åº”è¯¥è¢«å®Œå…¨ç¦æ­¢ï¼Œä½†ä¹Ÿä¸åº”è¯¥æ»¥ç”¨ã€‚æ¯”å¦‚æ¸¸æˆå¼•æ“çš„<strong>æ—¥å¿—ç³»ç»Ÿ</strong>å’Œ<strong>æè´¨ç³»ç»Ÿ</strong>è‚¯å®šä¼šç”¨åˆ°æ¨¡æ¿ï¼Œå½“ä½ æœ‰ä¸€ä¸ªå¯ä»¥åŒ…å«å„ç§ä¸åŒç±»å‹çš„ç»Ÿä¸€ç¼“å†²åŒºæ—¶ï¼Œæ¨¡æ¿åœ¨ä¸€å®šç¨‹åºä¸Šæ˜¯éå¸¸æœ‰ç”¨çš„ã€‚</p>
<h1 id="54-Stack-vs-Heap-Memory-in-C"><a href="#54-Stack-vs-Heap-Memory-in-C" class="headerlink" title="54. Stack vs Heap Memory in C++"></a>54. Stack vs Heap Memory in C++</h1><h2 id="1-ä»€ä¹ˆæ˜¯æ ˆå’Œå †ï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯æ ˆå’Œå †ï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯æ ˆå’Œå †ï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯æ ˆå’Œå †ï¼Ÿ</h2><p>åº”ç”¨ç¨‹åºå¯åŠ¨åï¼Œæ“ä½œç³»ç»Ÿè¦åšçš„å°±æ˜¯å°†æ•´ä¸ªç¨‹åºåŠ è½½åˆ°å†…å­˜ï¼Œå¹¶åˆ†é…ä¸€å¤§å †ç‰©ç† RAMï¼ˆ<em>éšæœºå­˜å–å­˜å‚¨å™¨ï¼šRandom Access Memory</em>ï¼‰ä»¥ä¾¿æˆ‘ä»¬çš„å®é™…åº”ç”¨ç¨‹åºå¯ä»¥è¿è¡Œã€‚ æ ˆå’Œå †æ˜¯ RAM ä¸­å®é™…å­˜åœ¨çš„ä¸¤ä¸ªåŒºåŸŸï¼š æ ˆ<em>stack</em>é€šå¸¸æ˜¯ä¸€ä¸ªé¢„å®šä¹‰å¤§å°çš„å†…å­˜åŒºåŸŸï¼Œé€šå¸¸çº¦ä¸º 2 å…†å­—èŠ‚ï¼ˆ2MBï¼‰å·¦å³ï¼› å †<em>heap</em>ä¹Ÿæ˜¯ä¸€ä¸ªé¢„å®šä¹‰äº†é»˜è®¤å€¼çš„åŒºåŸŸï¼Œä½†æ˜¯å®ƒå¯ä»¥å¢é•¿ï¼Œå¹¶éšç€åº”ç”¨ç¨‹åºçš„è¿›è¡Œè€Œæ”¹å˜ã€‚ é‡è¦çš„æ˜¯è¦çŸ¥é“è¿™ä¸¤ä¸ªå†…å­˜åŒºåŸŸçš„å®é™…ç‰©ç†ä½ç½®éƒ½æ˜¯åœ¨ RAM ä¸­ï¼Œå¾ˆå¤šäººå€¾å‘äºè®¤ä¸ºæ ˆå­˜å‚¨åœ¨ CPU ç¼“å­˜ä¸­æˆ–ç±»ä¼¼çš„ä½ç½®ï¼Œå®ƒç¡®å®å› ä¸ºæˆ‘ä»¬ä¸åœè®¿é—®è€Œåœ¨ç¼“å­˜ä¸­æ´»è·ƒï¼Œä½†ä¸æ˜¯æ‰€æœ‰çš„æ ˆå†…å­˜éƒ½ä¼šå­˜å‚¨åœ¨è¿™é‡Œï¼Œè¿™å¹¶ä¸æ˜¯å®ƒçš„å·¥ä½œæ–¹å¼ã€‚åªè¦è®°ä½è¿™ä¸¤ä¸ªå†…å­˜åŒºåŸŸçš„å®é™…ä½ç½®éƒ½åœ¨æˆ‘ä»¬çš„å†…å­˜ä¸­ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆå†…å­˜ä¸­æœ‰ä¸¤ä¸ªä¸åŒåŒºåŸŸçš„åŸå› ã€‚</p>
<h2 id="2-æ ˆä¸å †çš„å†…å­˜åˆ†é…"><a href="#2-æ ˆä¸å †çš„å†…å­˜åˆ†é…" class="headerlink" title="2. æ ˆä¸å †çš„å†…å­˜åˆ†é…"></a>2. æ ˆä¸å †çš„å†…å­˜åˆ†é…</h2><p>æˆ‘ä»¬çš„ç¨‹åºä¸­ï¼Œå†…å­˜æ˜¯ç”¨æ¥å­˜å‚¨è¿è¡Œç¨‹åºæ‰€éœ€çš„æ•°æ®çš„ï¼Œä¸ç®¡æ˜¯ä»å±€éƒ¨å˜é‡è¿˜æ˜¯ä»æ–‡ä»¶ä¸­è¯»å–çš„ä¸œè¥¿ã€‚è€Œæ ˆå’Œå †å°±æ˜¯æˆ‘ä»¬å¯ä»¥å­˜å‚¨æ•°æ®çš„åœ°æ–¹ã€‚ å®ƒä»¬çš„å·¥ä½œåŸç†éå¸¸ä¸åŒï¼Œä½†æœ¬è´¨ä¸Šåšçš„äº‹æƒ…æ˜¯ä¸€æ ·çš„ï¼šæˆ‘ä»¬å¯ä»¥è¦æ±‚ C++ä»æ ˆæˆ–è€…å †ä¸­ç»™æˆ‘ä»¬ä¸€äº›å†…å­˜ï¼Œé¡ºåˆ©çš„è¯å®ƒä¼šç»™æˆ‘ä»¬ä¸€ä¸ªè¦æ±‚å¤§å°çš„å†…å­˜å—ã€‚è€Œä¸åŒä¹‹å¤„åœ¨äºï¼Œå®ƒä¼š<strong>å¦‚ä½•åˆ†é…å†…å­˜</strong>ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Vector3</span><br>&#123;<br>	<span class="hljs-type">float</span> x, y, z;<br><br>	<span class="hljs-built_in">Vector3</span>()<br>		:<span class="hljs-built_in">x</span>(<span class="hljs-number">10.0f</span>), <span class="hljs-built_in">y</span>(<span class="hljs-number">11.0f</span>), <span class="hljs-built_in">z</span>(<span class="hljs-number">12.0f</span>) &#123;&#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-type">int</span> value = <span class="hljs-number">5</span>;<br>	<span class="hljs-type">int</span> array[<span class="hljs-number">5</span>];<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++)<br>	&#123;<br>		array[i] = i;<br>	&#125;<br>	Vector3 vector;<br><br>	<span class="hljs-type">int</span>* hvalue = <span class="hljs-keyword">new</span> <span class="hljs-type">int</span>;<br>	*hvalue = <span class="hljs-number">5</span>;<br>	<span class="hljs-type">int</span>* harray = <span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[<span class="hljs-number">5</span>];<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++)<br>	&#123;<br>		harray[i] = i;<br>	&#125;<br>	Vector3* hvector = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Vector3</span>();<br><br>	<span class="hljs-keyword">delete</span> hvalue;<br>	<span class="hljs-keyword">delete</span>[] harray;<br>	<span class="hljs-keyword">delete</span> hvector;<br><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="æ ˆåˆ†é…"><a href="#æ ˆåˆ†é…" class="headerlink" title="æ ˆåˆ†é…"></a>æ ˆåˆ†é…</h3><p>å› ä¸º debug æ¨¡å¼ä¸‹åœ¨å˜é‡å‘¨å›´æ·»åŠ äº†<em>safety guards</em>ï¼Œä»¥ç¡®ä¿æˆ‘ä»¬ä¸ä¼šæº¢å‡ºæ‰€æœ‰å˜é‡ï¼Œåœ¨é”™è¯¯çš„å†…å­˜ä¸­è®¿é—®å®ƒä»¬ç­‰é—®é¢˜ã€‚æ‰€ä»¥åœ¨å†…å­˜ä¸­è¿™äº›å˜é‡çš„<strong>å­˜å‚¨ä½ç½®éƒ½å¾ˆæ¥è¿‘</strong>ï¼Œå› ä¸ºå®é™…å‘ç”Ÿçš„æ˜¯ï¼š<strong>å½“æˆ‘ä»¬åœ¨æ ˆä¸­åˆ†é…å˜é‡æ—¶ï¼Œæ ˆé¡¶éƒ¨çš„æŒ‡é’ˆå°±ç§»åŠ¨è¿™ä¸ªå˜é‡å¤§å°çš„å­—èŠ‚ã€‚åˆ†é…ä¸€ä¸ª 4 ä¸ªå­—èŠ‚çš„æ•´æ•°ï¼Œæ ˆé¡¶æŒ‡é’ˆå°±ç§»åŠ¨ 4 ä¸ªå­—èŠ‚ã€‚å†…å­˜å®é™…ä¸Šæ˜¯åƒæ ˆä¸€æ ·ç›¸äº’å åŠ å­˜å‚¨çš„ï¼Œç°åœ¨åœ¨å¤§å¤šæ•°æ ˆçš„å®ç°ä¸­ï¼Œæ ˆæ˜¯å€’ç€æ¥çš„ã€‚</strong>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ çœ‹å›¾ä¸­ä¼šå‘ç°ï¼šç¬¬ä¸€ä¸ª int value å­˜å‚¨åœ¨æ›´é«˜çš„å†…å­˜åœ°å€ï¼Œåç»­çš„ array å’Œ vector åœ¨æ—è¾¹å­˜å‚¨åœ¨è¾ƒä½çš„å†…å­˜åœ°å€ï¼Œå› ä¸ºå®ƒæ˜¯åå‘ç”Ÿé•¿çš„ã€‚</p>
<p>æ ˆçš„åšæ³•å°±æ˜¯æŠŠä¸œè¥¿å åœ¨ä¸€èµ·ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆ<em>stack allocation</em>ï¼ˆæ ˆåˆ†é…ï¼‰éå¸¸å¿«ï¼Œå®ƒå°±åƒä¸€æ¡ CPU æŒ‡ä»¤ï¼Œæˆ‘ä»¬æ‰€åšçš„å°±æ˜¯ç§»åŠ¨æ ˆæŒ‡é’ˆï¼Œç„¶åè¿”å›æ ˆæŒ‡é’ˆçš„åœ°å€ã€‚æˆ‘å¦‚æœè¦åˆ†é…ä¸€ä¸ªæ•´æ•°ï¼Œæˆ‘è¦åå‘ç§»åŠ¨æ ˆæŒ‡é’ˆ 4 ä¸ªå­—èŠ‚ï¼Œç„¶åè¿”å›é‚£ä¸ªå†…å­˜åœ°å€ï¼Œå› ä¸ºè¿™æ˜¯ 4 ä¸ªå­—èŠ‚å—çš„å¼€å§‹ã€‚</p>
<p>æ ˆä¸­åˆ†é…å†…å­˜æ—¶ï¼Œä¸€æ—¦è¿™ä¸ªä½œç”¨åŸŸç»“æŸï¼Œä½ åœ¨æ ˆä¸­åˆ†é…çš„æ‰€æœ‰å†…å­˜éƒ½ä¼šè¢«å¼¹å‡ºï¼Œå†…å­˜è¢«é‡Šæ”¾ã€‚</p>
<h3 id="å †åˆ†é…"><a href="#å †åˆ†é…" class="headerlink" title="å †åˆ†é…"></a>å †åˆ†é…</h3><p>å †åˆ†é…çš„å†…å­˜ä¸ä¼šç´§æŒ¨ç€ï¼Œåœ¨å †ä¸­åˆ†é…<code>new</code>åè¦è°ƒç”¨<code>delete</code>å…³é”®å­—æ¥é‡Šæ”¾å†…å­˜ï¼Œç”¨[æ™ºèƒ½æŒ‡é’ˆ](<a target="_blank" rel="noopener" href="https://nagi.fun/Cherno-CPP-Notes/51-100/54">https://nagi.fun/Cherno-CPP-Notes/51-100/54</a> Stack vs Heap Memory in C%2B%2B&#x2F;44 SMART POINTERS in C++.md)çš„<code>make</code>ä¹Ÿä¸€æ ·ä¼šå¸®ä½ è°ƒç”¨å…³é”®å­—ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨å»é‡Šæ”¾å†…å­˜ã€‚</p>
<h2 id="3-newå…³é”®å­—å®é™…ä¸Šåšäº†ä»€ä¹ˆï¼Ÿ"><a href="#3-newå…³é”®å­—å®é™…ä¸Šåšäº†ä»€ä¹ˆï¼Ÿ" class="headerlink" title="3. newå…³é”®å­—å®é™…ä¸Šåšäº†ä»€ä¹ˆï¼Ÿ"></a>3. newå…³é”®å­—å®é™…ä¸Šåšäº†ä»€ä¹ˆï¼Ÿ</h2><p><code>new</code>å…³é”®å­—å®é™…ä¸Šè°ƒç”¨äº†ä¸€ä¸ªå«åš<code>malloc</code>çš„å‡½æ•°ï¼ˆmemory allocateï¼‰çš„ç¼©å†™ï¼Œè¿™æ ·åšé€šå¸¸ä¼šè°ƒç”¨åº•å±‚æ“ä½œç³»ç»Ÿæˆ–å¹³å°çš„ç‰¹å®šå‡½æ•°ï¼Œè¿™å°†åœ¨å †ä¸Šä¸ºä½ åˆ†é…å†…å­˜ã€‚å½“ä½ å¯åŠ¨åº”ç”¨æ—¶ï¼Œä½ ä¼šè¢«åˆ†é…åˆ°ä¸€å®šæ•°é‡çš„ç‰©ç† RAMï¼Œè€Œä½ çš„ç¨‹åºä¼šç»´æŠ¤ä¸€ä¸ªå«<em>free list</em>ï¼ˆç©ºé—²åˆ—è¡¨ï¼‰çš„ä¸œè¥¿ï¼Œå®ƒçš„ä½œç”¨æ˜¯è·Ÿè¸ªå“ªäº›å†…å­˜å—æ˜¯ç©ºé—²çš„å¹¶å‚¨å­˜å®ƒä»¬çš„ä½ç½®ã€‚å½“ä½ ä½¿ç”¨<code>malloc</code>è¯·æ±‚å †å†…å­˜æ—¶ï¼Œå®ƒå¯ä»¥æµè§ˆç©ºé—²åˆ—è¡¨ï¼Œæ‰¾åˆ°ä¸€å—ç¬¦åˆå¤§å°è¦æ±‚çš„å†…å­˜å—ï¼Œç„¶åè¿”å›ä½ ä¸€ä¸ªå®ƒçš„æŒ‡é’ˆï¼Œå¹¶è®°å½•åˆ†é…çš„å¤§å°å’Œå®ƒç°åœ¨æ˜¯å¦è¢«åˆ†é…çš„æƒ…å†µï¼ˆè¿™æ ·ä½ å°±ä¸èƒ½ä½¿ç”¨è¿™å—å†…å­˜äº†ï¼‰ã€‚</p>
<p>è¿™é‡Œæƒ³è¯´çš„é‡ç‚¹æ˜¯ï¼Œåœ¨å †ä¸Šåˆ†é…å†…å­˜æ˜¯ä¸€å¤§å¨äº‹æƒ…ï¼Œè€Œåœ¨æ ˆä¸Šåˆ†é…å†…å­˜å°±åƒä¸€æ¡ CPU æŒ‡ä»¤ã€‚è¿™ä¸¤ç§ä¸»è¦å†…å­˜çš„åŒºåˆ«å°±æ˜¯åˆ†é…æ–¹å¼çš„åŒºåˆ«ï¼Œå¯ä»¥ä»æ±‡ç¼–æŒ‡ä»¤ä¸­çœ‹åˆ°ï¼Œå£°æ˜å˜é‡æ—¶æ ˆåˆ†é…çš„æŒ‡ä»¤å°±ä¸€ä¸¤è¡Œï¼Œè€Œå †åˆ†é…å°±æ˜¯ä¸€å¤§æ®µæŒ‡ä»¤äº†ï¼Œä¹‹åè¿˜è¦è°ƒç”¨<code>delete</code>ï¼Œè¿™åˆæ˜¯å¤§æ®µæŒ‡ä»¤ã€‚</p>
<p>æ‰€ä»¥äº‹å®ä¸Šï¼Œå¦‚æœå¯èƒ½çš„è¯ä½ åº”è¯¥<strong>å°½é‡åœ¨æ ˆä¸Šåˆ†é…å†…å­˜</strong>ã€‚åœ¨å †ä¸Šåˆ†é…çš„å”¯ä¸€åŸå› æ˜¯å¦‚æœä½ ä¸èƒ½åœ¨æ ˆä¸Šåˆ†é…ï¼Œæ¯”å¦‚ä½ éœ€è¦è®©å®ƒçš„å£°æ˜å‘¨æœŸæ¯”ä½ åœ¨å¤„ç†çš„ä½œç”¨åŸŸæ›´é•¿ï¼Œæˆ–è€…ä½ ç‰¹åˆ«éœ€è¦æ›´å¤šçš„æ•°æ®ï¼Œæ¯”å¦‚æˆ‘æƒ³åŠ è½½ä¸€ä¸ª 50MB çš„çº¹ç†æè´¨ï¼Œè¿™å°±ä¸é€‚åˆåœ¨æ ˆä¸Šåˆ†é…ï¼Œå› æ­¤ä½ ä¸å¾—ä¸åœ¨å †ä¸Šåˆ†é…ã€‚</p>
<p>æ€§èƒ½çš„ä¸åŒæ˜¯å› ä¸ºåˆ†é…æ–¹å¼ï¼Œæ‰€ä»¥ç†è®ºä¸Šå¦‚æœä½ åœ¨è¿è¡Œä½ çš„ç¨‹åºå‰åœ¨å †ä¸Šé¢„å…ˆåˆ†é…ä¸€ä¸ªå†…å­˜å—ï¼Œç„¶åä»è¿™ä¸ªé¢„å…ˆåˆ†é…çš„å†…å­˜å—ä¸­è¿›è¡Œå †åˆ†é…ï¼Œé‚£æ ˆã€å †åˆ†é…å°±åŸºæœ¬ä¸€æ ·äº†ï¼Œä½ å”¯ä¸€å¯èƒ½è¦å¤„ç†çš„å°±æ˜¯<em>cpu cache miss</em>çš„é—®é¢˜ï¼ˆç¼“å­˜ä¸å‘½ä¸­ï¼‰ï¼Œä½† miss çš„æ•°é‡å¯èƒ½ä¸å¤Ÿé€ æˆéº»çƒ¦ã€‚æ‰€ä»¥å½“ä½ è°ƒç”¨<code>new</code>æ—¶ï¼Œä½ éœ€è¦æ£€æŸ¥ free listï¼Œè¯·æ±‚å†…å­˜å†è®°å½•æ‰€æœ‰å†…å®¹ï¼Œè¿™å°±æ˜¯å †ç›¸æ¯”äºæ ˆæ…¢çš„åœ°æ–¹ï¼Œè€Œå®é™…çš„è®¿é—®ï¼ˆCPUã€ç¼“å­˜ï¼‰é€šå¸¸å¯ä»¥å¿½ç•¥ä¸è®¡</p>
<h1 id="55-Macros-in-C"><a href="#55-Macros-in-C" class="headerlink" title="55. Macros in C++"></a>55. Macros in C++</h1><ul>
<li>é¢„å¤„ç†</li>
</ul>
<p>å¸¦æœ‰<code>#</code>çš„ä¸º<em>preprocessor statement</em>ï¼Œå³é¢„å¤„ç†æŒ‡ä»¤ã€‚ è¯¥ç±»æŒ‡ä»¤å‘ç”Ÿåœ¨çœŸæ­£çš„ç¼–è¯‘ä¹‹å‰ï¼Œå½“ç¼–è¯‘å™¨æ”¶åˆ°ä¸€ä¸ªæºæ–‡ä»¶æ—¶ï¼Œåšçš„ç¬¬ä¸€ä»¶äº‹æƒ…å°±æ˜¯é¢„å¤„ç†æ‰€æœ‰é¢„å¤„ç†æŒ‡ä»¤ã€‚</p>
<p>é¢„å¤„ç†é˜¶æ®µåŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘é˜¶æ®µï¼Œåœ¨è¿™ä¸ªé˜¶æ®µæˆ‘ä»¬å¯ä»¥æ§åˆ¶ç»™ç¼–è¯‘å™¨ä»€ä¹ˆä»£ç ï¼Œè¿™å°±æ˜¯<em>macro</em>ï¼ˆå®ï¼‰çš„ç”¨æ­¦ä¹‹åœ°äº†ã€‚ æˆ‘ä»¬èƒ½åšçš„å°±æ˜¯å†™ä¸€äº›å®ï¼Œå®ƒå°†ä»£ç ä¸­çš„æ–‡æœ¬æ›¿æ¢ä¸ºå…¶å®ƒä¸œè¥¿ï¼Œè¿™åŸºæœ¬å°±åƒéå†æˆ‘ä»¬çš„ä»£ç ç„¶åæ‰§è¡ŒæŸ¥æ‰¾å’Œæ›¿æ¢ã€‚ ï¼ˆæ‰€ä»¥æ¨¡æ¿ä¼šæ¯”å®è¯„ä¼°å¾—æ›´æ™šä¸€äº›)</p>
<p>ä½ ä½¿ç”¨å®çš„æ–¹å¼å–å†³äºä½ çš„ä¸ªäººçˆ±å¥½ï¼Œå¦‚æœä½ ç”¨äº†å¾ˆå¤šå®ï¼Œä»£ç å¯èƒ½ä¼šæ¯”è¾ƒéš¾ç†è§£ã€‚ä¸è¦ç”¨å¤ªå¤šçš„ C++ç‰¹æ€§ï¼Œå°¤å…¶æ˜¯å½“æˆ‘ä»¬è¿›å…¥æ›´é«˜çº§çš„ç‰¹æ€§æ—¶ï¼Œä½ ä¸éœ€è¦å‘æ‰€æœ‰äººç‚«è€€ä½ çŸ¥é“æ‰€æœ‰çš„ C++ç‰¹æ€§ï¼Œç”¨æ›´å¤šçš„ç‰¹æ€§ä¹Ÿä¸æ˜¯å†™å¥½ä»£ç çš„æ–¹å¼ã€‚</p>
<ul>
<li>â€œå®â€ä¸¾ä¾‹</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> WAIT std::cin.get()</span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	WAIT;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> LOG(x) std::cout &lt;&lt; x &lt;&lt; std::endl</span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-built_in">LOG</span>(<span class="hljs-string">&quot;Hello&quot;</span>);<br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br></code></pre></td></tr></table></figure>



<h2 id="1-ä½¿ç”¨å®åŒºåˆ†Debugå’ŒRelease"><a href="#1-ä½¿ç”¨å®åŒºåˆ†Debugå’ŒRelease" class="headerlink" title="1. ä½¿ç”¨å®åŒºåˆ†Debugå’ŒRelease"></a>1. ä½¿ç”¨å®åŒºåˆ†Debugå’ŒRelease</h2><p><img src="https://murhyimgur.oss-cn-beijing.aliyuncs.com/img/image-20240107130814058.png" srcset="https://murhyimgur.oss-cn-beijing.aliyuncs.com/website/loading.gif" lazyload alt="image-20240107130814058"></p>
<p><img src="https://murhyimgur.oss-cn-beijing.aliyuncs.com/img/image-20240107130718965.png" srcset="https://murhyimgur.oss-cn-beijing.aliyuncs.com/website/loading.gif" lazyload alt="image-20240107130718965"></p>
<p><img src="https://murhyimgur.oss-cn-beijing.aliyuncs.com/img/image-20240107130735354.png" srcset="https://murhyimgur.oss-cn-beijing.aliyuncs.com/website/loading.gif" lazyload alt="image-20240107130735354"></p>
<h2 id="2-å¤šè¡Œå®å®šä¹‰"><a href="#2-å¤šè¡Œå®å®šä¹‰" class="headerlink" title="2. å¤šè¡Œå®å®šä¹‰"></a>2. å¤šè¡Œå®å®šä¹‰</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAIN int mian()\</span><br><span class="hljs-meta">&#123;\</span><br><span class="hljs-meta">	std::cout &lt;&lt; <span class="hljs-string">&quot;hello&quot;</span> &lt;&lt; std::endl;\</span><br><span class="hljs-meta">	std::cin.get();\</span><br><span class="hljs-meta">&#125;</span><br><br>MAIN<br></code></pre></td></tr></table></figure>

<h1 id="56-The-AUTO-keyword-in-C"><a href="#56-The-AUTO-keyword-in-C" class="headerlink" title="56. The AUTO keyword in C++"></a>56. The AUTO keyword in C++</h1><p>æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥è®© C++è‡ªåŠ¨æ¨å¯¼å‡ºæ•°æ®çš„ç±»å‹ï¼Œä¸ç®¡æ˜¯åœ¨åˆ›å»ºã€åˆå§‹åŒ–å˜é‡æ•°æ®æ—¶ï¼Œè¿˜æ˜¯åœ¨å°†ä¸€ä¸ªå˜é‡å¯¹å¦ä¸€ä¸ªå˜é‡è¿›è¡Œèµ‹å€¼æ—¶ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">int</span> a = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">auto</span> b = a;<br><br>std::string name1 = <span class="hljs-string">&quot;Cherno&quot;</span>;<br><span class="hljs-keyword">auto</span> name2 = name1;<br><br><span class="hljs-function">std::string <span class="hljs-title">GetName</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Cherno&quot;</span>;<br>&#125;<br><br><span class="hljs-keyword">auto</span> name = <span class="hljs-built_in">GetName</span>();<br></code></pre></td></tr></table></figure>

<p>è¿™æ ·å¦‚æœ<em>api</em>å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ¯”å¦‚ GetName çš„è¿”å›ç±»å‹æ”¹ä¸ºäº†<code>char*</code>ï¼Œå®¢æˆ·ç«¯ä¸éœ€è¦ä»»ä½•æ”¹åŠ¨ã€‚ä½†æ˜¯åå¤„æ˜¯æˆ‘ä¹Ÿä¸çŸ¥é“ api å·²ç»æ”¹å˜äº†ï¼Œå®ƒå¯èƒ½ä¼šç ´åä¾èµ–äºç‰¹å®šç±»å‹çš„ä»£ç ã€‚</p>
<h2 id="ä»€ä¹ˆæ—¶å€™é€‚åˆç”¨-autoï¼Ÿ"><a href="#ä»€ä¹ˆæ—¶å€™é€‚åˆç”¨-autoï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ—¶å€™é€‚åˆç”¨ autoï¼Ÿ"></a>ä»€ä¹ˆæ—¶å€™é€‚åˆç”¨ autoï¼Ÿ</h2><ul>
<li>è¿­ä»£å™¨</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::vector &lt;std::string&gt; strings;<br>	strings.<span class="hljs-built_in">push_back</span>(<span class="hljs-string">&quot;Apple&quot;</span>);<br>	strings.<span class="hljs-built_in">push_back</span>(<span class="hljs-string">&quot;Orange&quot;</span>);<br><br>	<span class="hljs-comment">// for (std::vector&lt;std::string&gt;::iterator it = strings.begin(); it != strings.end(); it++)</span><br>    <span class="hljs-comment">// ä»£ç ä¸­iteratorï¼ˆè¿­ä»£å™¨ï¼‰çš„ç±»å‹å¤ªé•¿äº†ï¼Œå¯ä»¥ç›´æ¥ç”¨autoæ›¿æ¢ä»¥è·å¾—æ›´å¥½çš„å¯è¯»æ€§ï¼š</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> it = strings.<span class="hljs-built_in">begin</span>(); it != strings.<span class="hljs-built_in">end</span>(); it++)     <br>	&#123;<br>		std::cout &lt;&lt; *it &lt;&lt; std::endl;<br>	&#125;<br><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>ç±»å‹ç›¸å½“å¤§</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unordered_map&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Device</span> &#123;&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">DeviceManager</span><br>&#123;<br><span class="hljs-keyword">private</span>:<br>	std::unordered_map&lt;std::string, std::vector&lt;Device*&gt;&gt; m_Devices;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-type">const</span> std::unordered_map&lt;std::string, std::vector&lt;Device*&gt;&gt;&amp; <span class="hljs-built_in">GetDevice</span>() <span class="hljs-type">const</span><br>	&#123;<br>		<span class="hljs-keyword">return</span> m_Devices;<br>	&#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	DeviceManager dm;<br><br>	<span class="hljs-comment">// const std::unordered_map&lt;std::string, std::vector&lt;Device*&gt;&gt;&amp; devices = dm.GetDevice();</span><br>    <br>    <span class="hljs-comment">// ä½¿ç”¨alias</span><br>    <span class="hljs-keyword">using</span> DeviceMap = std::unordered_map&lt;std::string, std::vector&lt;Device*&gt;&gt;;<br>    <span class="hljs-keyword">typedef</span> std::unordered_map&lt;std::string, std::vector&lt;Device*&gt;&gt; DeviceMap;<br>    <span class="hljs-type">const</span> DeviceMap&amp; devices = dm.<span class="hljs-built_in">GetDevice</span>();<br>    <br>    <span class="hljs-comment">// ä½¿ç”¨auto</span><br>	<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; devices = dm.<span class="hljs-built_in">GetDevice</span>();<br><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="57-Static-Array-in-C-std-array"><a href="#57-Static-Array-in-C-std-array" class="headerlink" title="57.  Static Array in C++(std::array)"></a>57.  Static Array in C++(std::array)</h1><h2 id="1-é™æ€æ•°ç»„"><a href="#1-é™æ€æ•°ç»„" class="headerlink" title="1. é™æ€æ•°ç»„"></a>1. é™æ€æ•°ç»„</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;array&gt;</span></span><br><br><span class="hljs-comment">// ç”¨æ¨¡æ¿ä¼ å…¥std::arrayçš„sizeï¼Œé¿å…æ˜¾å¼è°ƒç”¨</span><br><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-type">int</span> T&gt;</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">PrintArray</span><span class="hljs-params">(std::array&lt;<span class="hljs-type">int</span>, T&gt;&amp; array)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; T; i++)<br>    &#123;<br>        std::cout &lt;&lt; array[i] &lt;&lt; std::endl;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::array&lt;<span class="hljs-type">int</span>, 5&gt; data;<br><br>    <span class="hljs-keyword">for</span> (std::array&lt;<span class="hljs-type">int</span>, data.<span class="hljs-built_in">size</span>()&gt;::iterator it = data.<span class="hljs-built_in">begin</span>(); it != data.<span class="hljs-built_in">end</span>(); it++)<br>    &#123;<br>        *it = <span class="hljs-number">0</span>;<br>    &#125;<br><br>    <span class="hljs-built_in">PrintArray</span>(data);<br><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br></code></pre></td></tr></table></figure>



<h2 id="2-é™æ€æ•°ç»„å’Œæ™®é€šæ•°ç»„å¼‚åŒ"><a href="#2-é™æ€æ•°ç»„å’Œæ™®é€šæ•°ç»„å¼‚åŒ" class="headerlink" title="2. é™æ€æ•°ç»„å’Œæ™®é€šæ•°ç»„å¼‚åŒ"></a>2. é™æ€æ•°ç»„å’Œæ™®é€šæ•°ç»„å¼‚åŒ</h2><p><code>std::array</code>å’Œæ™®é€šæ•°ç»„åœ¨å†…å­˜ä¸Šå½¢å¼æ˜¯ä¸€æ ·çš„ï¼Œéƒ½åœ¨æ ˆä¸Šåˆ†é…ï¼Œä¸åƒ<code>std::vector</code>ç±»æ˜¯åœ¨å †ä¸Šåˆ†é…çš„ã€‚</p>
<p>ä½†æ˜¯<code>std::array</code>æœ‰è¾¹ç•Œæ£€æŸ¥ï¼ˆä»…åœ¨ Debug æ¨¡å¼ä¸‹ï¼‰ï¼Œåœ¨æœ€ä¼˜åŒ–çš„æƒ…å†µä¸‹å’Œæ™®é€šæ•°ç»„æ€§èƒ½æ˜¯ä¸€æ ·çš„ã€‚</p>
<p><code>std::array</code>å®é™…ä¸Šä¸å­˜å‚¨è‡ªå·±çš„ sizeï¼Œsize æ˜¯ä½ ç»™å®ƒçš„ä¸€ä¸ªæ¨¡æ¿å‚æ•°ï¼Œè¿™æ„å‘³ç€è°ƒç”¨ size function ç›´æ¥è¿”å› 5 è€Œä¸æ˜¯è¿”å›ä¸€ä¸ªå­˜å‚¨åœ¨å†…å­˜ä¸­çš„ size å˜é‡</p>
<p>å¯ä»¥çœ‹åˆ°è¾¹ç•Œæ£€æŸ¥æ˜¯åœ¨ä¸€ä¸ªå®ä¸­çš„ï¼Œè¿™æ„å‘³ç€åªæœ‰åœ¨é‚£ä¸ªè°ƒè¯•çº§åˆ«æ‰ä¼šå‘ç”Ÿï¼Œå¦‚æœç­‰çº§ä¸º 0 åˆ™è¿”å›è·Ÿ C è¯­è¨€æ•°ç»„å·¥ä½œæ–¹å¼ä¸€æ ·çš„ã€‚</p>
<p>ä½ åº”è¯¥å¼€å§‹é€‰æ‹©ä½¿ç”¨<code>std::array</code>è€Œä¸æ˜¯ C è¯­è¨€é£æ ¼æ•°ç»„ï¼Œå› ä¸ºå®ƒå¢åŠ äº†ä¸€å±‚è°ƒè¯•ï¼ˆåœ¨ä½ æœŸæœ›å¯¹ä»£ç ä¿æŠ¤æ—¶ï¼‰ï¼Œè€Œä¸”ä¹Ÿæ²¡æœ‰æ€§èƒ½æˆæœ¬ï¼Œè¿˜å¯ä»¥è®©ä½ è®°å½•æ•°ç»„çš„å¤§å°ã€‚</p>
<h1 id="58-Function-Pointers-in-C"><a href="#58-Function-Pointers-in-C" class="headerlink" title="58. Function Pointers in C++"></a>58. Function Pointers in C++</h1><p>æŠŠå‡½æ•°ä¼ ç»™å˜é‡ï¼›å°†å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°</p>
<ul>
<li>å‡½æ•°æŒ‡é’ˆä¸¾ä¾‹1</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">HelloWorld</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::cout &lt;&lt; <span class="hljs-string">&quot;Hello world&quot;</span> &lt;&lt; std::endl;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-keyword">auto</span> fun1 = HelloWorld;<br>	<span class="hljs-built_in">fun1</span>();<br><br>	<span class="hljs-built_in">void</span>(*fun2)() = HelloWorld;<br>	<span class="hljs-built_in">fun2</span>();<br><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>å‡½æ•°æŒ‡é’ˆä¸¾ä¾‹2</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">PrintValue</span><span class="hljs-params">(<span class="hljs-type">int</span> value)</span></span><br><span class="hljs-function"></span>&#123;<br>	std::cout &lt;&lt; <span class="hljs-string">&quot;Value: &quot;</span> &lt;&lt; value &lt;&lt; std::endl;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">ForEach</span><span class="hljs-params">(<span class="hljs-type">const</span> std::vector&lt;<span class="hljs-type">int</span>&gt;&amp; values, <span class="hljs-type">void</span>(*func)(<span class="hljs-type">int</span>))</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> value : values)<br>		<span class="hljs-built_in">func</span>(value);<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::vector&lt;<span class="hljs-type">int</span>&gt; values = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>,<span class="hljs-number">3</span> &#125;;<br>	<span class="hljs-built_in">ForEach</span>(values, PrintValue);  <span class="hljs-comment">// å‡½æ•°æŒ‡é’ˆä½œä¸ºå‡½æ•°çš„å‚æ•°</span><br><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">ForEach</span><span class="hljs-params">(<span class="hljs-type">const</span> std::vector&lt;<span class="hljs-type">int</span>&gt;&amp; values, <span class="hljs-type">void</span>(*func)(<span class="hljs-type">int</span>))</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> value : values)<br>		<span class="hljs-built_in">func</span>(value);<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::vector&lt;<span class="hljs-type">int</span>&gt; values = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>,<span class="hljs-number">3</span> &#125;;<br>	<span class="hljs-built_in">ForEach</span>(values, [](<span class="hljs-type">int</span> value) &#123;std::cout &lt;&lt; <span class="hljs-string">&quot;Value: &quot;</span> &lt;&lt; value &lt;&lt; std::endl; &#125;); <span class="hljs-comment">// lambdaåŒ¿åå‡½æ•°</span><br><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br></code></pre></td></tr></table></figure>

<p>è¿™é‡Œçš„<code>[]</code>å«åš<em>capture method</em>ï¼ˆæ•è·æ–¹å¼ï¼‰ï¼Œä¹Ÿå°±æ˜¯å¦‚ä½•ä¼ å…¥ä¼ å‡ºå‚æ•°ï¼Œåé¢ä¼šä»‹ç»æ›´å¤šã€‚</p>
<h1 id="59-lambda-in-C"><a href="#59-lambda-in-C" class="headerlink" title="59. lambda in C++"></a>59. lambda in C++</h1><p><em>lambda</em>æœ¬è´¨ä¸Šæ˜¯æˆ‘ä»¬å®šä¹‰ä¸€ç§å«åšåŒ¿åå‡½æ•°çš„æ–¹å¼ï¼Œç”¨è¿™ç§æ–¹æ³•ä¸éœ€è¦å®é™…åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œå°±åƒæ˜¯ä¸€ä¸ªå¿«é€Ÿçš„ä¸€æ¬¡æ€§å‡½æ•°ï¼Œæˆ‘ä»¬æ›´æƒ³å°†å®ƒè§†ä½œä¸€ä¸ªå˜é‡è€Œä¸æ˜¯åƒä¸€ä¸ªæ­£å¼çš„å‡½æ•°é‚£æ ·ï¼Œåœ¨æˆ‘ä»¬ç¼–è¯‘çš„ä»£ç ä¸­ä½œä¸ºä¸€ä¸ªç¬¦å·å­˜åœ¨ã€‚</p>
<p>åªè¦ä½ æœ‰ä¸€ä¸ª<strong>å‡½æ•°æŒ‡é’ˆ</strong>ï¼Œä½ éƒ½å¯ä»¥åœ¨C++ä¸­ä½¿ç”¨lambdaï¼Œè¿™å°±æ˜¯å®ƒçš„å·¥ä½œåŸç†ï¼Œæ‰€ä»¥lambdaæ˜¯æˆ‘ä»¬ä¸éœ€è¦é€šè¿‡å‡½æ•°å®šä¹‰å°±å¯ä»¥å®šä¹‰ä¸€ä¸ªå‡½æ•°çš„æ–¹æ³•ã€‚ <strong>lambdaçš„ç”¨æ³•æ˜¯ï¼Œåœ¨æˆ‘ä»¬ä¼šè®¾ç½®å‡½æ•°æŒ‡é’ˆæŒ‡å‘å‡½æ•°çš„ä»»ä½•åœ°æ–¹ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥å°†å®ƒè®¾ç½®ä¸ºlambdaã€‚</strong></p>
<p>lambdaæ˜¯ä¸€ä¸ªæŒ‡å®šä¸€ä¸ªå‡½æ•°æœªæ¥æƒ³è¦è¿è¡Œçš„ä»£ç çš„å¾ˆå¥½çš„æ–¹æ³•ã€‚</p>
<h2 id="1-capture"><a href="#1-capture" class="headerlink" title="1. capture"></a>1. capture</h2><p>å¦‚æœæˆ‘ä»¬æƒ³æŠŠå¤–éƒ¨å˜é‡æ”¾åˆ°lambdaå‡½æ•°å†…éƒ¨çš„æŒ‡ä»¤ä¸­å‘¢ï¼Ÿ å’Œæˆ‘ä»¬åˆ›å»ºè‡ªå·±çš„å‡½æ•°å…¶å®ä¸€æ ·ï¼Œéƒ½æ˜¯æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼š<strong>å€¼ä¼ é€’å’Œå¼•ç”¨ä¼ é€’</strong>ï¼Œè¿™ä¹Ÿå°±æ˜¯æ•è·è¿™ä¸€å—çš„ä¸œè¥¿ï¼Œ<code>[]</code>å°±æ˜¯æˆ‘ä»¬æ‰“ç®—å¦‚ä½•ä¼ é€’å˜é‡ã€‚ï¼ˆ<code>[=]</code>,ä¼ é€’æ‰€æœ‰å˜é‡ï¼Œé€šè¿‡å€¼ä¼ é€’ï¼›<code>[&amp;]</code>ä¼ é€’æ‰€æœ‰å˜é‡ï¼Œé€šè¿‡å¼•ç”¨ä¼ é€’ï¼‰ è¿˜å¯ä»¥åªä¼ å…¥å•ç‹¬çš„å˜é‡ï¼Œ<code>[a]</code>é€šè¿‡å€¼ä¼ é€’ä¼ å…¥a,<code>[&amp;a]</code>é€šè¿‡å¼•ç”¨ä¼ é€’ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;functional&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">ForEach</span><span class="hljs-params">(std::vector&lt;<span class="hljs-type">int</span>&gt;&amp; values, <span class="hljs-type">const</span> std::function&lt;<span class="hljs-type">void</span>(<span class="hljs-type">int</span>)&gt;&amp; func)</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> value : values)<br>		<span class="hljs-built_in">func</span>(value);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::vector&lt;<span class="hljs-type">int</span>&gt; values = &#123; <span class="hljs-number">1</span>,<span class="hljs-number">7</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">4</span> &#125;;<br>	<span class="hljs-keyword">auto</span> it = std::<span class="hljs-built_in">find_if</span>(values.<span class="hljs-built_in">begin</span>(), values.<span class="hljs-built_in">end</span>(), [](<span class="hljs-type">int</span> value) &#123;<span class="hljs-keyword">return</span> value &gt; <span class="hljs-number">2</span>; &#125;);<br>	std::cout &lt;&lt; *it &lt;&lt; std::endl;<br><br>	<span class="hljs-type">int</span> a = <span class="hljs-number">5</span>;<br><br>	<span class="hljs-keyword">auto</span> lambda = [=](<span class="hljs-type">int</span> value) &#123;std::cout &lt;&lt; <span class="hljs-string">&quot;Value: &quot;</span> &lt;&lt; value &lt;&lt; std::endl; &#125;;<br><br>	<span class="hljs-built_in">ForEach</span>(values, lambda);<br><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br></code></pre></td></tr></table></figure>



<h1 id="60-Why-I-donâ€™t-use-â€œusing-namespace-stdâ€"><a href="#60-Why-I-donâ€™t-use-â€œusing-namespace-stdâ€" class="headerlink" title="60. Why I donâ€™t use â€œusing namespace stdâ€"></a>60. Why I donâ€™t use â€œusing namespace stdâ€</h1><h2 id="1-ä»€ä¹ˆæ˜¯-using-namespace"><a href="#1-ä»€ä¹ˆæ˜¯-using-namespace" class="headerlink" title="1. ä»€ä¹ˆæ˜¯ using namespace?"></a>1. ä»€ä¹ˆæ˜¯ using namespace?</h2><p>å°±åƒä¸Šæ–‡ä¸­çš„ä»£ç ç”¨äº†å¾ˆå¤šæ ‡å‡†åº“çš„å†…å®¹ï¼Œå¦‚æœåœ¨ä»£ç å‰é¢åŠ ä¸Š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br></code></pre></td></tr></table></figure>

<p>å°±å¯ä»¥ç›´æ¥å†™ vectorï¼Œfind_if äº†ï¼Œçœ‹ä¸Šå»ä»£ç æ›´å¹²å‡€ä¸€ç‚¹ã€‚ è¿˜å¯ä»¥æŠŠå®ƒé™åˆ¶åœ¨ä½œç”¨åŸŸä¸­ï¼Œæ¯”å¦‚å†™åˆ° main å‡½æ•°çš„ç¬¬ä¸€è¡Œï¼Œè¿™æ · main å‡½æ•°ä¸­è°ƒç”¨æ ‡å‡†åº“å°±ä¸ç”¨å†™â€std::â€œäº†ã€‚</p>
<p>æ‰€ä»¥<code>using namespace</code>å¯ä»¥éå¸¸æœ‰ç”¨ï¼Œå¦‚æœä½ åœ¨å¤„ç†å¾ˆé•¿çš„å‘½åç©ºé—´ï¼Œæˆ–æ˜¯ä½ æœ‰è‡ªå·±çš„å‘½åç©ºé—´ï¼Œè‡ªå·±çš„é¡¹ç›®æ–‡ä»¶ä¸­çš„ç¬¦å·éƒ½åœ¨è¿™ä¸ªå‘½åç©ºé—´ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªã€‚</p>
<p>ä½†æ˜¯<strong>æˆ‘ä¸ªäºº</strong>ä¸å–œæ¬¢<code>using namespace std</code></p>
<h2 id="2-ä¸ºä»€ä¹ˆä¸å–œæ¬¢"><a href="#2-ä¸ºä»€ä¹ˆä¸å–œæ¬¢" class="headerlink" title="2. ä¸ºä»€ä¹ˆä¸å–œæ¬¢"></a>2. ä¸ºä»€ä¹ˆä¸å–œæ¬¢</h2><p>ç¬¬ä¸€çœ¼çœ‹ä¸Šå»ä»£ç æ˜¯å¹²å‡€äº†ï¼Œä½†æ˜¯å¦‚æœçœ‹åŸå§‹ä»£ç ï¼Œå¯ä»¥å‘ç°ä½ å¾ˆå®¹æ˜“å°±èƒ½æŒ‡å‡ºä»£ç ä¸­ä½¿ç”¨çš„æ˜¯ C++æ ‡å‡†æ¨¡æ¿åº“ï¼ˆå¸¦æœ‰ std å‰ç¼€çš„ï¼‰ã€‚å¦‚æœç”¨äº†<code>using namespace std</code>ï¼Œå°±ç›¸å¯¹è€Œè¨€æœ‰ç‚¹éš¾åˆ†è¾¨äº†ã€‚å¦‚æœä½ ä¹Ÿç”¨æ ‡å‡†åº“å–œæ¬¢ç”¨çš„<em>snake case</em>ï¼ˆè›‡å½¢å‘½åæ³•ï¼Œå¦‚ find_ifï¼‰ï¼Œå°±å¾ˆéš¾åŒºåˆ†åˆ°åº•æ˜¯ä¸æ˜¯ std ä¸­çš„ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><br><span class="hljs-keyword">namespace</span> apple &#123;<br>    <br>	<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; text)</span></span><br><span class="hljs-function">	</span>&#123;<br>		std::cout &lt;&lt; text &lt;&lt; std::endl;<br>	&#125;<br>&#125;<br><br><span class="hljs-keyword">namespace</span> orange &#123;<br>    <br>	<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* text)</span></span><br><span class="hljs-function">	</span>&#123;<br>		std::string temp = text;<br>		std::<span class="hljs-built_in">reverse</span>(temp.<span class="hljs-built_in">begin</span>(), temp.<span class="hljs-built_in">end</span>());<br>		std::cout &lt;&lt; temp &lt;&lt; std::endl;<br>	&#125;<br>&#125;<br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> apple;<br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> orange;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello&quot;</span>);<br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">olleH</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure>

<p>è¿™å¹¶ä¸æ˜¯ orange åœ¨ apple åå¯¼è‡´çš„ï¼Œè€Œæ˜¯å› ä¸ºå…¶å®ƒåŸå› ã€‚â€œHelloâ€å…¶å®æ˜¯ä¸€ä¸ª const char[]æ•°ç»„ï¼Œè€Œä¸æ˜¯ä¸€ä¸ª stringï¼Œå¦‚æœåªæœ‰ apple å‘½åç©ºé—´ï¼Œä¼šåœ¨ apple::print()ä¸­åšä¸€ä¸ª[éšå¼è½¬æ¢](<a target="_blank" rel="noopener" href="https://nagi.fun/Cherno-CPP-Notes/51-100/60">https://nagi.fun/Cherno-CPP-Notes/51-100/60</a> Why I donâ€™t using namespace std&#x2F;40 Implicit Conversion and the Explicit Keyword in C++.md#^cde452)ï¼Œå°† const char æ•°ç»„è½¬æ¢ä¸º string å¯¹è±¡ã€‚ä½†æ˜¯å¼•å…¥ orange å‘½åç©ºé—´åï¼Œorange::print()åŒ¹é…åº¦æ›´é«˜ï¼Œå› ä¸ºå®ƒçš„å‚æ•°æœ¬æ¥å°±æ˜¯ä¸€ä¸ª const char*ï¼Œä¸éœ€è¦éšå¼è½¬æ¢ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬ä¸ç”¨<code>using namespace</code>ï¼Œè€Œæ˜¯ç®€å•åœ°å¼•å…¥å¦ä¸€ä¸ªåº“<code>apple::print()</code>å°±ä¸ä¼šæœ‰è¿™æ ·çš„è¿è¡Œæ—¶é”™è¯¯ã€‚</p>
<p>å¦ä¸€ä¸ªè¦<strong>ç™¾åˆ†ç™¾é¿å…çš„å°±æ˜¯åœ¨å¤´æ–‡ä»¶ä¸­ä½¿ç”¨ using namespace</strong>ï¼Œæ°¸è¿œä¸è¦è¿™æ ·åšï¼ŒæŠŠè¿™äº›å‘½åç©ºé—´ç”¨åœ¨äº†ä½ åŸæœ¬æ²¡æœ‰æ‰“ç®—ç”¨çš„åœ°æ–¹ï¼Œè°çŸ¥é“å®ƒä¼š include ä»€ä¹ˆå‘¢ï¼Ÿä»»ä½•å¤§å‹é¡¹ç›®ä¸­è¿½è¸ªèµ·æ¥éƒ½æ˜¯å¾ˆå›°éš¾çš„ï¼Œæ‰€ä»¥<strong>ç»å¯¹ä¸è¦åœ¨å¤´æ–‡ä»¶ä¸­ä½¿ç”¨ using namespaceï¼</strong></p>
<h1 id="61-Namespaces-in-C"><a href="#61-Namespaces-in-C" class="headerlink" title="61. Namespaces in C++"></a>61. Namespaces in C++</h1><p>[61 C++çš„åç§°ç©ºé—´ - cherno-cpp-notes (nagi.fun)](<a target="_blank" rel="noopener" href="https://nagi.fun/Cherno-CPP-Notes/51-100/61">https://nagi.fun/Cherno-CPP-Notes/51-100/61</a> Namespaces in C%2B%2B&#x2F;)</p>
<h1 id="62-Threads-in-C"><a href="#62-Threads-in-C" class="headerlink" title="62. Threads in C++"></a>62. Threads in C++</h1><p>æœ¬èŠ‚è¯¾è®²çš„æ˜¯<em>threads</em>ï¼ˆçº¿ç¨‹ï¼‰ï¼Œä¹Ÿå°±æ˜¯è®²æˆ‘ä»¬å¦‚ä½•è¿›è¡Œ<em>parallelization</em>ï¼ˆå¹¶è¡ŒåŒ–ï¼‰ã€‚ç°åœ¨å¤§å¤šæ•°è®¡ç®—æœºæˆ–å¤„ç†å™¨ç­‰è®¾å¤‡éƒ½æœ‰ä¸æ­¢ä¸€ä¸ªé€»è¾‘å¤„ç†çº¿ç¨‹ï¼Œå½“æˆ‘ä»¬è¿›å…¥æ›´å¤æ‚çš„é¡¹ç›®æ—¶ï¼Œå°†æŸäº›å·¥ä½œç§»åŠ¨åˆ°ä¸¤ä¸ªä¸åŒçš„æ‰§è¡Œçº¿ç¨‹ä¼šå¯¹æˆ‘ä»¬éå¸¸æœ‰ç›Šã€‚ä¸ä»…ä»…æ˜¯ä¸ºäº†æé«˜æ€§èƒ½ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬è¿˜èƒ½ç”¨å®ƒåšäº›ä»€ä¹ˆäº‹ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;thread&gt;</span></span><br><br><span class="hljs-type">static</span> <span class="hljs-type">bool</span> s_Finished = <span class="hljs-literal">false</span>;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">DoWork</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std::literals::chrono_literals;<br><br>	std::cout &lt;&lt; <span class="hljs-string">&quot;Started thread id = &quot;</span> &lt;&lt; std::this_thread::<span class="hljs-built_in">get_id</span>() &lt;&lt; std::endl;<br><br>	<span class="hljs-keyword">while</span> (!s_Finished)<br>	&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;Working...\n&quot;</span>;<br>		std::this_thread::<span class="hljs-built_in">sleep_for</span>(<span class="hljs-number">1</span>s);<br>	&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-function">std::thread <span class="hljs-title">worker</span><span class="hljs-params">(DoWork)</span></span>;<br>	<br>	std::cin.<span class="hljs-built_in">get</span>();<br>	s_Finished = <span class="hljs-literal">true</span>;<br><br>	worker.<span class="hljs-built_in">join</span>();<br>	std::cout &lt;&lt; <span class="hljs-string">&quot;Finished.&quot;</span> &lt;&lt; std::endl;<br>	std::cout &lt;&lt; <span class="hljs-string">&quot;Started thread id = &quot;</span> &lt;&lt; std::this_thread::<span class="hljs-built_in">get_id</span>() &lt;&lt; std::endl;<br><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br></code></pre></td></tr></table></figure>

<p>è¿™å°±æ˜¯ä¸€ä¸ªç®€å•çš„ C++å¤šçº¿ç¨‹ä¾‹å­ã€‚ä»£ç çš„ä¸»è¦å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>å…¨å±€çš„<code>s_Finish</code>æ ‡è®°å£°æ˜ä¸º<code>static</code>ï¼Œä»¥é™åˆ¶å…¶åœ¨å½“å‰æºæ–‡ä»¶ä¸­çš„ä½œç”¨èŒƒå›´ã€‚</li>
<li><code>DoWork</code>å‡½æ•°æ˜¯ä¸€ä¸ªçº¿ç¨‹ä¾‹ç¨‹ã€‚å®ƒè¿›å…¥ä¸€ä¸ªæ— é™å¾ªç¯ï¼Œæ¯ç§’æ‰“å°ä¸€æ¬¡â€Workingâ€¦â€ï¼Œç›´åˆ°<code>s_Finish</code>æ ‡å¿—è¢«è®¾ç½®ä¸º<code>true</code>ã€‚</li>
<li>åœ¨<code>main</code>å‡½æ•°ä¸­ï¼Œåˆ›å»ºäº†ä¸€ä¸ªåä¸º<code>worker</code>çš„æ–°çº¿ç¨‹ã€‚<code>DoWork</code>å‡½æ•°è¢«ä½œä¸ºå‚æ•°ä¼ é€’ç»™çº¿ç¨‹çš„æ„é€ å‡½æ•°ï¼Œè¡¨ç¤ºåº”åœ¨æ–°åˆ›å»ºçš„çº¿ç¨‹ä¸­è¿è¡Œæ­¤å‡½æ•°ã€‚</li>
<li><code>std::cin.get();</code>è¯­å¥æ˜¯ä¸€ä¸ªé˜»å¡è°ƒç”¨ï¼Œå®ƒç­‰å¾…ç”¨æˆ·æŒ‰å›è½¦é”®ã€‚</li>
<li>ä¸€æ—¦æŒ‰ä¸‹å›è½¦é”®ï¼Œ<code>s_Finish</code>æ ‡å¿—è¢«è®¾ç½®ä¸º<code>true</code>ï¼Œè¿™å¯¼è‡´<code>DoWork</code>å‡½æ•°è·³å‡ºå…¶å¾ªç¯å¹¶è¿”å›ã€‚</li>
<li><code>worker.join();</code>è¯­å¥ç”¨äºç­‰å¾…çº¿ç¨‹å®Œæˆå…¶æ‰§è¡Œï¼Œç„¶åç¨‹åºæ‰èƒ½ç»§ç»­ã€‚ç¡®ä¿çº¿ç¨‹åœ¨ä¸»çº¿ç¨‹ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ˜¯ç¨‹åºï¼‰ç»“æŸä¹‹å‰å®Œæˆæ‰§è¡Œæ˜¯è‡³å…³é‡è¦çš„ã€‚å¦‚æœç¨‹åºåœ¨<code>worker</code>çº¿ç¨‹ä»åœ¨è¿è¡Œæ—¶ç»“æŸï¼Œé‚£ä¹ˆå®ƒå°†è¢«çªç„¶ç»ˆæ­¢ï¼Œè¿™å¯èƒ½å¯¼è‡´å„ç§é—®é¢˜ï¼Œå¦‚èµ„æºæœªè¢«æ­£ç¡®é‡Šæ”¾ã€‚</li>
</ol>
<p>çº¿ç¨‹å¾ˆé‡è¦ï¼Œå®ƒä»¬å¯¹äºåŠ é€Ÿç¨‹åºéå¸¸æœ‰ç”¨ï¼Œä¸»è¦ç›®çš„æ˜¯ä¼˜åŒ–ï¼Œè¿˜å¯ä»¥åšä¾‹å¦‚ä¸Šé¢ä¾‹å­ä¸­è¿™äº›äº‹æƒ…ã€‚</p>
<h1 id="63-Timing-in-C"><a href="#63-Timing-in-C" class="headerlink" title="63. Timing in C++"></a>63. Timing in C++</h1><p>æˆ‘ä»¬å¦‚ä½•è®¡ç®—å®ŒæˆæŸä¸ªæ“ä½œæˆ–è€…æ‰§è¡ŒæŸä¸ªä»£ç æ‰€éœ€è¦çš„æ—¶é—´å‘¢ï¼Ÿ</p>
<p>è®¡æ—¶å¯¹å¾ˆå¤šäº‹æƒ…éƒ½å¾ˆæœ‰ç”¨ï¼Œä¸è®ºä½ æ˜¯å¸Œæœ›æŸäº›äº‹æƒ…åœ¨ç‰¹å®šæ—¶é—´å‘ç”Ÿï¼Œè¿˜æ˜¯åªæ˜¯è¯„ä¼°æ€§èƒ½æˆ–åšåŸºå‡†æµ‹è¯•ï¼Œçœ‹ä½ çš„ä»£ç è¿è¡Œå¾—æœ‰å¤šå¿«ï¼Œä½ éœ€è¦çŸ¥é“åº”ç”¨ç¨‹åºå®é™…è¿è¡Œçš„æ—¶é—´ã€‚</p>
<p>æœ‰å‡ ç§æ–¹æ³•å¯ä»¥å®ç°è¿™ä¸€ç‚¹ï¼ŒC++11 ä¹‹åæˆ‘ä»¬æœ‰äº†â€œchronoâ€ï¼Œå®ƒæ˜¯ C++åº“çš„ä¸€éƒ¨åˆ†ï¼Œä¸éœ€è¦å»ä½¿ç”¨æ“ä½œç³»ç»Ÿåº“ã€‚ä½†åœ¨æœ‰ chrono ä¹‹å‰ï¼Œå¦‚æœä½ æƒ³è¦é«˜åˆ†è¾¨ç‡çš„æ—¶é—´ï¼Œä½ æƒ³è¦ä¸€ä¸ªéå¸¸ç²¾ç¡®çš„è®¡æ—¶å™¨ï¼Œé‚£ä½ å°±éœ€è¦ç”¨åˆ°æ“ä½œç³»ç»Ÿåº“äº†ã€‚ä¾‹å¦‚åœ¨ Windows ä¸­æœ‰ä¸€ä¸ªå«åšâ€œQueryPerformanceCounterâ€çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥ä½¿ç”¨é‚£äº›ä¸œè¥¿ã€‚äº‹å®ä¸Šå¦‚æœä½ æƒ³è¦æ›´å¤šåœ°æ§åˆ¶å³ä½¿ï¼Œæ§åˆ¶ CPU çš„è®¡æ—¶èƒ½åŠ›ï¼Œé‚£ä¹ˆä½ å¯èƒ½ä¼šä½¿ç”¨å¹³å°ç‰¹å®šçš„åº“ã€‚ä¸è¿‡æœ¬èŠ‚åªä¼šçœ‹ä¸€çœ‹å’Œå¹³å°æ— å…³çš„ C++æ ‡å‡†åº“æ–¹æ³•ï¼ˆchrono åº“çš„ä¸€éƒ¨åˆ†ï¼‰ï¼Œå®ƒå¯ä»¥è®¡ç®—å‡ºæ‰§è¡Œä»£ç æ—¶ï¼Œä»£ç ä¹‹é—´ç»è¿‡äº†å¤šé•¿æ—¶é—´ã€‚</p>
<h2 id="1-è®¡æ—¶1s"><a href="#1-è®¡æ—¶1s" class="headerlink" title="1. è®¡æ—¶1s"></a>1. è®¡æ—¶1s</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;chrono&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;thread&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std::literals::chrono_literals;<br><br>    <span class="hljs-keyword">auto</span> start = std::chrono::high_resolution_clock::<span class="hljs-built_in">now</span>();<br>    std::this_thread::<span class="hljs-built_in">sleep_for</span>(<span class="hljs-number">1</span>s);<br>    <span class="hljs-keyword">auto</span> end = std::chrono::high_resolution_clock::<span class="hljs-built_in">now</span>();<br><br>    std::chrono::duration&lt;<span class="hljs-type">float</span>&gt; duration = end - start;<br>    std::cout &lt;&lt; duration.<span class="hljs-built_in">count</span>() &lt;&lt; <span class="hljs-string">&quot;s &quot;</span> &lt;&lt; std::endl;<br><br>    std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br></code></pre></td></tr></table></figure>

<p>chrono åº“éå¸¸å¥½ï¼Œå¯ä»¥é«˜ç²¾åº¦è®¡æ—¶ï¼Œå‡ ä¹é€‚ç”¨äºæ‰€æœ‰å¹³å°ï¼Œæ‰€ä»¥éå¸¸å»ºè®®ä½¿ç”¨è¿™ä¸ªæ–¹æ³•æ¥æ»¡è¶³ä½ æ‰€æœ‰çš„è®¡æ—¶éœ€æ±‚ï¼Œé™¤éä½ åœ¨åšä¸€äº›ç‰¹å®šçš„åº•å±‚çš„äº‹æƒ…ã€‚</p>
<h2 id="2-è®¡ç®—æ—¶é—´"><a href="#2-è®¡ç®—æ—¶é—´" class="headerlink" title="2. è®¡ç®—æ—¶é—´"></a>2. è®¡ç®—æ—¶é—´</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;chrono&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;thread&gt;</span></span><br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Timer</span><br>&#123;<br>	std::chrono::time_point&lt;std::chrono::steady_clock&gt; start, end;<br>	std::chrono::duration&lt;<span class="hljs-type">float</span>&gt; duration;<br><br>	<span class="hljs-built_in">Timer</span>()<br>	&#123;<br>		start = std::chrono::high_resolution_clock::<span class="hljs-built_in">now</span>();<br>	&#125;<br><br>	~<span class="hljs-built_in">Timer</span>()<br>	&#123;<br>		end = std::chrono::high_resolution_clock::<span class="hljs-built_in">now</span>();<br><br>		duration = end - start;<br><br>		<span class="hljs-type">float</span> ms = duration.<span class="hljs-built_in">count</span>() * <span class="hljs-number">1000.0f</span>;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;Timer took &quot;</span> &lt;&lt; ms &lt;&lt; <span class="hljs-string">&quot;ms&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Function</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	Timer timer;<br><br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++)<br>        <span class="hljs-comment">// std::cout &lt;&lt; &quot;Hello&quot; &lt;&lt; std::endl;</span><br>		std::cout &lt;&lt; <span class="hljs-string">&quot;Hello\n&quot;</span>; <span class="hljs-comment">// å¯ä»¥å°† endl æ¢ä¸ºâ€œ\nâ€ä¼˜åŒ–æ€§èƒ½ã€‚</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-built_in">Function</span>();<br><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br></code></pre></td></tr></table></figure>





<h1 id="64-Multidimensional-Arrays-in-C-2D-arrays"><a href="#64-Multidimensional-Arrays-in-C-2D-arrays" class="headerlink" title="64. Multidimensional Arrays in C++(2D arrays)"></a>64. Multidimensional Arrays in C++(2D arrays)</h1><p>ä»äºŒç»´æ•°ç»„å¼€å§‹ä½œä¸ºä¸€ä¸ªä¾‹å­ï¼Œå®é™…ä¸Šå®ƒåªæ˜¯<strong>æ•°ç»„çš„æ•°ç»„</strong>ï¼ˆä¸‰ç»´æ•°ç»„å°±æ˜¯æ•°ç»„çš„æ•°ç»„çš„æ•°ç»„â€¦..ï¼‰ï¼Œå°±æ˜¯æ•°ç»„çš„é›†åˆã€‚ æˆ‘ä»¬è€ƒè™‘å¤„ç†æ•°ç»„çš„ä¸€ç§ç­–ç•¥å°±æ˜¯ä½¿ç”¨<strong>æŒ‡é’ˆ</strong>ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘æ•°ç»„åœ¨å†…å­˜ä¸­çš„å¼€å¤´ä½ç½®ã€‚å¯ä»¥æƒ³è±¡ä¸€ä¸‹æœ‰ä¸€ä¸ªæŒ‡é’ˆçš„æ•°ç»„ï¼Œæœ€ç»ˆä½ ä¼šå¾—åˆ°ä¸€ä¸ªå†…å­˜å—ï¼Œé‡Œé¢åŒ…å«çš„æ˜¯è¿ç»­çš„æŒ‡é’ˆï¼Œæ¯ä¸ªæŒ‡é’ˆéƒ½æŒ‡å‘å†…å­˜ä¸­çš„æŸä¸ªæ•°ç»„ï¼Œæ‰€ä»¥å¾—åˆ°çš„æ˜¯æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆçš„é›†åˆï¼Œä¹Ÿå°±æ˜¯æ•°ç»„çš„æ•°ç»„ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-comment">// 1-d array</span><br>	<span class="hljs-type">int</span>* array = <span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[<span class="hljs-number">50</span>];<br><br>	<span class="hljs-keyword">delete</span>[] array;<br><br><br>	<span class="hljs-comment">// 2-d array (50*10)</span><br>	<span class="hljs-type">int</span>** a2d = <span class="hljs-keyword">new</span> <span class="hljs-type">int</span>* [<span class="hljs-number">50</span>];<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">50</span>; i++)<br>		a2d[i] = <span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[<span class="hljs-number">10</span>];<br><br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">50</span>; i++)<br>		<span class="hljs-keyword">delete</span>[] a2d[i];<br>	<span class="hljs-keyword">delete</span>[] a2d;<br><br>	<span class="hljs-comment">// 3-d array (50*10*3)</span><br>	<span class="hljs-type">int</span>*** a3d = <span class="hljs-keyword">new</span> <span class="hljs-type">int</span>** [<span class="hljs-number">50</span>];<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">50</span>; i++)<br>	&#123;<br>		a3d[i] = <span class="hljs-keyword">new</span> <span class="hljs-type">int</span>* [<span class="hljs-number">10</span>];<br><br>		<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">10</span>; j++)<br>		&#123;<br>			a3d[i][j] = <span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[<span class="hljs-number">3</span>];<br>		&#125;<br>	&#125;<br><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br></code></pre></td></tr></table></figure>

<p>è¿™é‡Œåªæ˜¯åˆ†é…äº†ä¸€ä¸ªå¯ä»¥å­˜å‚¨200å­—èŠ‚æŒ‡é’ˆçš„å†…å­˜å—ï¼Œå¹¶æ²¡æœ‰åˆå§‹åŒ–ã€‚ ç„¶åæˆ‘ä»¬å¯ä»¥éå†å¹¶è®¾ç½®æ¯ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªæ•°ç»„ï¼Œè¿™æ ·å°±èƒ½å¾—åˆ°ä¸€ä¸ªåŒ…å«50ä¸ªæ•°ç»„çš„å†…å­˜ä½ç½®çš„æ•°ç»„</p>
<h1 id="65-Sorting-in-C"><a href="#65-Sorting-in-C" class="headerlink" title="65. Sorting in C++"></a>65. Sorting in C++</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;functional&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::vector&lt;<span class="hljs-type">int</span>&gt; values = &#123; <span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">1</span>,<span class="hljs-number">4</span>,<span class="hljs-number">2</span> &#125;;<br><br>	std::cout &lt;&lt; <span class="hljs-string">&quot;first&quot;</span> &lt;&lt; std::endl;<br>	std::<span class="hljs-built_in">sort</span>(values.<span class="hljs-built_in">begin</span>(), values.<span class="hljs-built_in">end</span>());<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> value : values)<br>		std::cout &lt;&lt; value &lt;&lt; std::endl;<br>	<br>	std::cout &lt;&lt; <span class="hljs-string">&quot;second&quot;</span> &lt;&lt; std::endl;<br>	std::<span class="hljs-built_in">sort</span>(values.<span class="hljs-built_in">begin</span>(), values.<span class="hljs-built_in">end</span>(), std::<span class="hljs-built_in">greater</span>&lt;<span class="hljs-type">int</span>&gt;());<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> value : values)<br>		std::cout &lt;&lt; value &lt;&lt; std::endl;<br><br>	std::cout &lt;&lt; <span class="hljs-string">&quot;third&quot;</span> &lt;&lt; std::endl;<br>	std::<span class="hljs-built_in">sort</span>(values.<span class="hljs-built_in">begin</span>(), values.<span class="hljs-built_in">end</span>(), [](<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)<br>		&#123;<br>			<span class="hljs-keyword">return</span> a &gt; b;<br>		&#125;);<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> value : values)<br>		std::cout &lt;&lt; value &lt;&lt; std::endl;<br><br>	std::cout &lt;&lt; <span class="hljs-string">&quot;forth&quot;</span> &lt;&lt; std::endl;<br>	std::<span class="hljs-built_in">sort</span>(values.<span class="hljs-built_in">begin</span>(), values.<span class="hljs-built_in">end</span>(), [](<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)<br>		&#123;<br>			<span class="hljs-keyword">if</span> (a == <span class="hljs-number">1</span>) &#123; <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; &#125;<br>			<span class="hljs-keyword">if</span> (b == <span class="hljs-number">1</span>) &#123; <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; &#125;<br><br>			<span class="hljs-keyword">return</span> a &lt; b;<br>		&#125;);<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> value : values)<br>		std::cout &lt;&lt; value &lt;&lt; std::endl;<br><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br></code></pre></td></tr></table></figure>



<h1 id="66-Type-Punning-in-C"><a href="#66-Type-Punning-in-C" class="headerlink" title="66. Type Punning in C++"></a>66. Type Punning in C++</h1><p><em>Type punning</em>ï¼ˆç±»å‹åŒå…³ï¼‰åªæ˜¯ä¸€ä¸ªèŠ±å“¨çš„æœ¯è¯­ï¼Œ<strong>ç”¨æ¥åœ¨ C++ä¸­ç»•è¿‡ç±»å‹ç³»ç»Ÿ</strong>ã€‚<strong>C++æ˜¯å¼ºç±»å‹è¯­è¨€</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæœ‰ä¸€ä¸ªç±»å‹ç³»ç»Ÿï¼Œä¸åƒ JavaScript é‚£æ ·åˆ›å»ºå˜é‡ä¸éœ€è¦å£°æ˜å˜é‡ç±»å‹ï¼Œä½† C++ä¸­ä½ åˆ›å»ºå˜é‡æ—¶å¿…é¡»å£°æ˜æ•´æ•°ã€åŒç²¾åº¦æ•°ã€ç»“æ„ä½“ç­‰ç­‰ç±»å‹ã€‚ç„¶è€Œè¿™ç§ç±»å‹ç³»ç»Ÿå¹¶ä¸åƒ Java ä¸­é‚£ä¹ˆâ€œå¼ºåˆ¶â€ï¼ŒC++ä¸­è™½ç„¶ç±»å‹æ˜¯ç”±ç¼–è¯‘å™¨å¼ºåˆ¶æ‰§è¡Œçš„ï¼Œä½†ä½ å¯ä»¥ç›´æ¥è®¿é—®å†…å­˜ï¼Œæ‰€ä»¥<strong>å¯ä»¥å¾ˆå®¹æ˜“åœ°ç»•è¿‡ç±»å‹ç³»ç»Ÿ</strong>ï¼Œä½ æ˜¯å¦è¦è¿™ä¹ˆåšå–å†³äºä½ çš„å®é™…éœ€æ±‚ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½ ç»å¯¹ä¸åº”è¯¥è§„é¿ç±»å‹ç³»ç»Ÿï¼Œå› ä¸ºç±»å‹ç³»ç»Ÿå­˜åœ¨æ˜¯æœ‰åŸå› çš„ï¼Œé™¤éä½ æœ‰å……åˆ†çš„ç†ç”±ï¼Œå¦åˆ™ä½ ä¸ä¼šæƒ³è¿‡å¤šåœ°ä½¿ç”¨å®ƒã€‚</p>
<ul>
<li>éšå¼ç±»å‹è½¬æ¢</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-type">int</span> a = <span class="hljs-number">50</span>; <span class="hljs-comment">// a:32 00 00 00 (åå…­è¿›åˆ¶)</span><br>	<span class="hljs-type">double</span> value = a; <span class="hljs-comment">// value:00 00 00 00 00 00 49 40 (åå…­è¿›åˆ¶)  //éšå¼ç±»å‹è½¬æ¢</span><br><br>	std::cout &lt;&lt; value &lt;&lt; std::endl;  <span class="hljs-comment">// 50</span><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>æ˜¾å¼ç±»å‹è½¬æ¢(ä¸ä¸Šé¢çš„éšå¼ç±»å‹è½¬æ¢å…¶å®æ˜¯ä¸€æ ·çš„)</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-type">int</span> a = <span class="hljs-number">50</span>; <span class="hljs-comment">// a:32 00 00 00</span><br>	<span class="hljs-type">double</span> value = (<span class="hljs-type">double</span>)a; <span class="hljs-comment">// value:00 00 00 00 00 00 49 40  //éšå¼ç±»å‹è½¬æ¢</span><br><br>	std::cout &lt;&lt; value &lt;&lt; std::endl;  <span class="hljs-comment">// 50</span><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>å–açš„åœ°å€ï¼Œè½¬æ¢ä¸ºdoubleç±»å‹çš„æŒ‡é’ˆå†è§£å¼•ç”¨</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-type">int</span> a = <span class="hljs-number">50</span>; <span class="hljs-comment">// a:32 00 00 00</span><br>	<span class="hljs-type">double</span> value = *(<span class="hljs-type">double</span>*)&amp;a; <span class="hljs-comment">// value:32 00 00 00 cc cc cc cc</span><br><br>	std::cout &lt;&lt; value &lt;&lt; std::endl; <span class="hljs-comment">// -9.25596e+61</span><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>struct</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Entity</span><br>&#123;<br>	<span class="hljs-type">int</span> x, y;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	Entity e = &#123; <span class="hljs-number">5</span>,<span class="hljs-number">8</span> &#125;;<br><br>	<span class="hljs-type">int</span>* position = (<span class="hljs-type">int</span>*)&amp;e;<br>	std::cout &lt;&lt; position[<span class="hljs-number">0</span>] &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; position[<span class="hljs-number">1</span>] &lt;&lt; std::endl; <span class="hljs-comment">// 5, 8</span><br><br>	<span class="hljs-type">int</span> y = *(<span class="hljs-type">int</span>*)((<span class="hljs-type">char</span>*)&amp;e + <span class="hljs-number">4</span>);<br>	std::cout &lt;&lt; y &lt;&lt; std::endl; <span class="hljs-comment">// 8</span><br><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br></code></pre></td></tr></table></figure>



<h1 id="67-Unions-in-C"><a href="#67-Unions-in-C" class="headerlink" title="67. Unions in C++"></a>67. Unions in C++</h1><p><em>Union</em> ï¼ˆè”åˆä½“ï¼‰æœ‰ç‚¹åƒ class ç±»å‹æˆ–è€… struct ç±»å‹ï¼Œåªä¸è¿‡å®ƒä¸€æ¬¡åªèƒ½å ç”¨ä¸€ä¸ªæˆå‘˜çš„å†…å­˜ã€‚ é€šå¸¸å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªç»“æ„ä½“ï¼Œæˆ‘ä»¬åœ¨é‡Œé¢å£°æ˜ 4 ä¸ªæµ®ç‚¹æ•°ï¼Œå°±å¯ä»¥æœ‰ 4x4 ä¸ªå­—èŠ‚åœ¨è¿™ä¸ªç»“æ„ä½“ä¸­ï¼Œæ€»å…±æ˜¯ 16 ä¸ªå­—èŠ‚ã€‚ ä½†ä¸€ä¸ªè”åˆä½“åªèƒ½æœ‰ä¸€ä¸ªæˆå‘˜ï¼Œæ‰€ä»¥å¦‚æœæˆ‘è¦å£°æ˜ 4 ä¸ªæµ®ç‚¹æ•°ï¼Œæ¯”å¦‚ abcdï¼Œè”åˆä½“çš„å¤§å°ä»ç„¶æ˜¯ 4 ä¸ªå­—èŠ‚ï¼Œå½“æˆ‘å°è¯•å»å¤„ç†å®ƒä»¬ï¼Œæ¯”å¦‚å°† a è®¾ä¸º 5ï¼Œå®ƒä»¬çš„å†…å­˜æ˜¯ä¸€æ ·çš„ï¼Œd çš„å€¼ä¹Ÿä¼šæ˜¯ 5ï¼Œè¿™å°±æ˜¯è”åˆä½“çš„å·¥ä½œæ–¹å¼ã€‚</p>
<p>ä½ å¯ä»¥åƒä½¿ç”¨ç»“æ„ä½“æˆ–ç±»ä¸€æ ·ä½¿ç”¨å®ƒä»¬ï¼Œä¹Ÿå¯ä»¥ç»™å®ƒæ·»åŠ é™æ€å‡½æ•°æˆ–è€…æ™®é€šå‡½æ•°ã€æ–¹æ³•ç­‰ã€‚ç„¶è€Œä½ ä¸èƒ½ä½¿ç”¨è™šæ–¹æ³•ï¼Œè¿˜æœ‰ä¸€äº›å…¶å®ƒé™åˆ¶ï¼Œä½†é€šå¸¸äººä»¬ç”¨è”åˆä½“æ¥åšçš„äº‹ï¼Œæ˜¯å’Œ[ç±»å‹åŒå…³](<a target="_blank" rel="noopener" href="https://nagi.fun/Cherno-CPP-Notes/51-100/66">https://nagi.fun/Cherno-CPP-Notes/51-100/66</a> Type Punning in C%2B%2B&#x2F;)ç´§å¯†ç›¸å…³çš„ã€‚å½“ä½ æƒ³ç»™åŒä¸€ä¸ªå˜é‡å–ä¸¤ä¸ªä¸åŒçš„åå­—æ—¶ï¼Œå®ƒçœŸçš„å¾ˆå¥½ç”¨ã€‚</p>
<p>é€šå¸¸<code>union</code>æ˜¯åŒ¿åä½¿ç”¨çš„ï¼Œä½†åŒ¿å union ä¸èƒ½å«æœ‰æˆå‘˜å‡½æ•°ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Union</span><br>	&#123;<br>		<span class="hljs-keyword">union</span><br>		&#123;<br>			<span class="hljs-type">float</span> a;<br>			<span class="hljs-type">int</span> b;<br>		&#125;;<br>	&#125;;<br><br>	Union u;<br>	u.a = <span class="hljs-number">2.0f</span>;<br><br>	std::cout &lt;&lt; u.a &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; u.b &lt;&lt; std::endl; <span class="hljs-comment">// 2, 1073741824</span><br><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Vector2</span><br>&#123;<br>	<span class="hljs-type">float</span> x, y;<br>&#125;;<br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Vector4</span><br>&#123;<br>	<span class="hljs-keyword">union</span><br>	&#123;<br>		<span class="hljs-keyword">struct</span><br>		&#123;<br>			<span class="hljs-type">float</span> x, y, z, w;<br>		&#125;;<br>		<span class="hljs-keyword">struct</span><br>		&#123;<br>			Vector2 a, b;<br>		&#125;;<br>	&#125;;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">PrintVector2</span><span class="hljs-params">(<span class="hljs-type">const</span> Vector2&amp; vector)</span></span><br><span class="hljs-function"></span>&#123;<br>	std::cout &lt;&lt; vector.x &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; vector.y &lt;&lt; std::endl;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	Vector4 vector = &#123; <span class="hljs-number">1.0f</span>,<span class="hljs-number">2.0f</span>,<span class="hljs-number">3.0f</span>,<span class="hljs-number">4.0f</span> &#125;;<br>	<span class="hljs-built_in">PrintVector2</span>(vector.a);<br>	<span class="hljs-built_in">PrintVector2</span>(vector.b);<br><br>	std::cout &lt;&lt; <span class="hljs-string">&quot;====================&quot;</span> &lt;&lt; std::endl;<br>	vector.z = <span class="hljs-number">500.0f</span>;<br>	<span class="hljs-built_in">PrintVector2</span>(vector.a);<br>	<span class="hljs-built_in">PrintVector2</span>(vector.b);<br><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br><br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">1, 2</span><br><span class="hljs-comment">3, 4</span><br><span class="hljs-comment">====================</span><br><span class="hljs-comment">1, 2</span><br><span class="hljs-comment">500, 4</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure>

<h1 id="68-Virtual-Destructors-in-C"><a href="#68-Virtual-Destructors-in-C" class="headerlink" title="68. Virtual Destructors in C++"></a>68. Virtual Destructors in C++</h1><p>è™šææ„å‡½æ•°å¯ä»¥æƒ³è±¡ä¸ºè™šå‡½æ•°å’Œææ„å‡½æ•°çš„ç»„åˆã€‚ </p>
<p><strong>è™šææ„å‡½æ•°å¯¹äºå¤„ç†å¤šæ€éå¸¸é‡è¦</strong>ï¼Œæ¢å¥è¯è¯´ï¼Œå¦‚æœæˆ‘æœ‰ä¸€ç³»åˆ—çš„å­ç±»å’Œæ‰€æœ‰çš„ç»§æ‰¿ï¼šæœ‰ä¸€ä¸ªç±» Aï¼Œç„¶åä¸€ä¸ªç±» B æ´¾ç”Ÿäº Aï¼Œä½ æƒ³æŠŠç±» B å¼•ç”¨ä¸ºç±» Aï¼Œä½†å®ƒå®é™…ä¸Šæ˜¯ç±» Bï¼Œç„¶åä½ å†³å®šåˆ é™¤ A æˆ–è€…å®ƒä»¥æŸç§æ–¹å¼åˆ é™¤äº†ï¼Œç„¶åä½ è¿˜æ˜¯å¸Œæœ›è¿è¡Œ B çš„ææ„å‡½æ•°ï¼Œè€Œä¸æ˜¯è¿è¡Œ A çš„ææ„å‡½æ•°ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„è™šææ„å‡½æ•°ä»¥åŠå®ƒçš„ä½œç”¨ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Base</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;Base Constructor\n&quot;</span>; &#125;<br>	~<span class="hljs-built_in">Base</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;Base Destructor\n&quot;</span>; &#125;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> :<span class="hljs-keyword">public</span> Base<br>&#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Derived</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;Derived Constructor\n&quot;</span>; &#125;<br>	~<span class="hljs-built_in">Derived</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;Derived Destructor\n&quot;</span>; &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::cout &lt;&lt; <span class="hljs-string">&quot;-----First:Base&quot;</span> &lt;&lt; std::endl;<br>	Base* base = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Base</span>();<br>	<span class="hljs-keyword">delete</span> base;<br><br>	std::cout &lt;&lt; <span class="hljs-string">&quot;-----Second:Derived Inherited from Base&quot;</span> &lt;&lt; std::endl;<br>	Derived* derived = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Derived</span>();<br>	<span class="hljs-keyword">delete</span> derived;<br>	<br>	std::cout &lt;&lt; <span class="hljs-string">&quot;-----Third:Polymorphic&quot;</span> &lt;&lt; std::endl;<br>	Base* poly = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Derived</span>();<br>	<span class="hljs-keyword">delete</span> poly;<br><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">-----First:Base</span><br><span class="hljs-comment">Base Constructor</span><br><span class="hljs-comment">Base Destructor</span><br><span class="hljs-comment">-----Second:Derived Inherited from Base</span><br><span class="hljs-comment">Base Constructor</span><br><span class="hljs-comment">Derived Constructor</span><br><span class="hljs-comment">Derived Destructor</span><br><span class="hljs-comment">Base Destructor</span><br><span class="hljs-comment">-----Third:Polymorphic</span><br><span class="hljs-comment">Base Constructor</span><br><span class="hljs-comment">Derived Constructor</span><br><span class="hljs-comment">Base Destructor</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure>

<p>åœ¨ç¬¬ä¸‰ç§æƒ…å†µä¸‹ï¼ŒDerivedåªè°ƒç”¨äº†æ„é€ å‡½æ•°ï¼Œæ²¡æœ‰è°ƒç”¨ææ„å‡½æ•°ï¼Œè¿™æ˜¯æœ‰å¯èƒ½ä¼šé€ æˆå†…å­˜æ³„éœ²äº†ï¼ï¼</p>
<p>è¿™é‡Œåªæœ‰åŸºç±»çš„ææ„å‡½æ•°è¢«è°ƒç”¨äº†ï¼Œè€Œæ´¾ç”Ÿç±»çš„ææ„å‡½æ•°æ²¡æœ‰è¢«è°ƒç”¨ã€‚ è¿™ç‚¹å¾ˆé‡è¦ï¼Œå› ä¸ºè¿™ä¼šé€ æˆå†…å­˜æ³„æ¼ã€‚ <code>delete</code> poly æ—¶ï¼Œå®ƒä¸çŸ¥é“è¿™ä¸ªè°ƒç”¨çš„ææ„å‡½æ•°å¯èƒ½æœ‰å¦ä¸€ä¸ªææ„å‡½æ•°ï¼Œå› ä¸ºå®ƒï¼ˆ~Baseï¼‰æ²¡æœ‰è¢«æ ‡è®°ä¸ºè™šå‡½æ•°ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Base</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;Base Constructor\n&quot;</span>; &#125;<br>	<span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">Base</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;Base Destructor\n&quot;</span>; &#125; <span class="hljs-comment">// æ ‡ä»·ä¸ºvirtual</span><br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> :<span class="hljs-keyword">public</span> Base<br>&#123;<br><span class="hljs-keyword">private</span>:<br>	<span class="hljs-type">int</span>* m_Array;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Derived</span>() &#123; m_Array = <span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[<span class="hljs-number">5</span>]; std::cout &lt;&lt; <span class="hljs-string">&quot;Derived Constructor\n&quot;</span>; &#125; <span class="hljs-comment">// åªè°ƒç”¨æ„é€ å‡½æ•°ï¼Œä¸è°ƒç”¨ææ„å‡½æ•°çš„è¯ï¼Œå°±ä¼šå¯¼è‡´å†…å­˜æ³„éœ²</span><br>	~<span class="hljs-built_in">Derived</span>() &#123; <span class="hljs-keyword">delete</span>[] m_Array; std::cout &lt;&lt; <span class="hljs-string">&quot;Derived Destructor\n&quot;</span>; &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::cout &lt;&lt; <span class="hljs-string">&quot;-----First:Base&quot;</span> &lt;&lt; std::endl;<br>	Base* base = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Base</span>();<br>	<span class="hljs-keyword">delete</span> base;<br><br>	std::cout &lt;&lt; <span class="hljs-string">&quot;-----Second:Derived Inherited from Base&quot;</span> &lt;&lt; std::endl;<br>	Derived* derived = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Derived</span>();<br>	<span class="hljs-keyword">delete</span> derived;<br>	<br>	std::cout &lt;&lt; <span class="hljs-string">&quot;-----Third:Polymorphic&quot;</span> &lt;&lt; std::endl;<br>	Base* poly = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Derived</span>();<br>	<span class="hljs-keyword">delete</span> poly;<br><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">-----First:Base</span><br><span class="hljs-comment">Base Constructor</span><br><span class="hljs-comment">Base Destructor</span><br><span class="hljs-comment">-----Second:Derived Inherited from Base</span><br><span class="hljs-comment">Base Constructor</span><br><span class="hljs-comment">Derived Constructor</span><br><span class="hljs-comment">Derived Destructor</span><br><span class="hljs-comment">Base Destructor</span><br><span class="hljs-comment">-----Third:Polymorphic</span><br><span class="hljs-comment">Base Constructor</span><br><span class="hljs-comment">Derived Constructor</span><br><span class="hljs-comment">Derived Destructor</span><br><span class="hljs-comment">Base Destructor</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure>

<p>æ ‡è®°ä¸º<em>virtual</em>ï¼Œæ„å‘³ç€ C++çŸ¥é“åœ¨å±‚æ¬¡ç»“æ„ä¸‹å¯èƒ½æœ‰æŸç§é‡å†™çš„æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å°±å¯ä»¥è¢«è¦†å†™ã€‚ è€Œ<em>virtual destructor</em>ï¼ˆè™šææ„å‡½æ•°ï¼‰çš„æ„æ€ä¸æ˜¯è¦†å†™ææ„å‡½æ•°ï¼Œè€Œæ˜¯<strong>åŠ ä¸Šä¸€ä¸ª</strong>ææ„å‡½æ•°ã€‚æ¢å¥è¯è¯´å¦‚æœæˆ‘æŠŠç§¯ç´¯çš„ææ„å‡½æ•°æ”¹ä¸ºè™šå‡½æ•°ï¼Œå®ƒå®é™…ä¼šå…ˆè°ƒç”¨æ´¾ç”Ÿç±»ææ„å‡½æ•°ï¼Œç„¶ååœ¨å±‚æ¬¡ç»“æ„ä¸­å‘ä¸Šï¼Œè°ƒç”¨åŸºç±»ææ„å‡½æ•°ã€‚</p>
<h1 id="69-Casting-in-C"><a href="#69-Casting-in-C" class="headerlink" title="69. Casting in C++"></a>69. Casting in C++</h1><h2 id="1-ä»€ä¹ˆæ˜¯-casting"><a href="#1-ä»€ä¹ˆæ˜¯-casting" class="headerlink" title="1. ä»€ä¹ˆæ˜¯ casting"></a>1. ä»€ä¹ˆæ˜¯ casting</h2><p>è¿™é‡Œçš„<em>casting</em>ï¼ˆè½¬æ¢ï¼‰æ˜¯æŒ‡ç±»å‹è½¬æ¢ï¼Œæˆ–è€…è¯´æ˜¯å¿…é¡»åœ¨ C++å¯ç”¨ç±»å‹ç³»ç»Ÿä¸­è¿›è¡Œçš„ç±»å‹è½¬æ¢ã€‚</p>
<p>C++æ˜¯ä¸€é—¨å¼ºç±»å‹è¯­è¨€ï¼Œæ„å‘³ç€å­˜åœ¨ä¸€ä¸ªç±»å‹ç³»ç»Ÿï¼Œè€Œä¸”ç±»å‹æ˜¯å¼ºåˆ¶çš„ã€‚ï¼ˆè§[66 è¯¾ï¼šç±»å‹åŒå…³](<a target="_blank" rel="noopener" href="https://nagi.fun/Cherno-CPP-Notes/51-100/66">https://nagi.fun/Cherno-CPP-Notes/51-100/66</a> Type Punning in C%2B%2B&#x2F;#^4d9dfe)ï¼‰ å¦‚æœæˆ‘æŠŠæŸç‰©è®¾ä¸º intï¼Œé‚£å°±ä¸èƒ½çªç„¶æŠŠå®ƒå½“åš double æˆ–è€… floatï¼Œåè¿‡æ¥ä¹Ÿä¸€æ ·ã€‚æˆ‘å¿…é¡»åšæŒåŸæœ‰çš„ç±»å‹ï¼Œé™¤éæœ‰ä¸€ä¸ªç®€å•çš„<strong>éšå¼è½¬æ¢</strong>ï¼ˆ[è§ 40 è¯¾ï¼šéšå¼å’Œæ˜¾å¼](<a target="_blank" rel="noopener" href="https://nagi.fun/Cherno-CPP-Notes/51-100/69">https://nagi.fun/Cherno-CPP-Notes/51-100/69</a> Casting in C%2B%2B&#x2F;40 Implicit Conversion and the Explicit Keyword in C++.md#^cde452)ï¼‰ï¼Œè¿™æ„å‘³ç€ C++çŸ¥é“å¦‚ä½•åœ¨è¿™ä¸¤ç§ç±»å‹ä¹‹é—´è½¬æ¢ï¼Œå¹¶ä¸”æ²¡æœ‰æ•°æ®æŸå¤±ï¼Œè¿™å°±æ˜¯éšå¼è½¬æ¢ï¼›æˆ–è€…æ˜¯æœ‰ä¸€ä¸ª<strong>æ˜¾ç¤ºè½¬æ¢</strong>ï¼ˆ[è§ 66 è¯¾ï¼šç±»å‹åŒå…³](<a target="_blank" rel="noopener" href="https://nagi.fun/Cherno-CPP-Notes/51-100/66">https://nagi.fun/Cherno-CPP-Notes/51-100/66</a> Type Punning in C%2B%2B&#x2F;#^f3904d)ï¼‰ï¼Œå‘Šè¯‰ C++ä½ éœ€è¦æŠŠè¿™ä¸ªç±»å‹è½¬æ¢æˆç›®æ ‡ç±»å‹ï¼Œæœ¬ç« å°†æ­£æ˜¯ä»‹ç»<strong>å¼ºåˆ¶è½¬æ¢</strong>çš„å«ä¹‰ï¼Œå¹¶äº†è§£å¦‚ä½•ä½¿ç”¨å®ƒã€‚</p>
<h2 id="2-casting"><a href="#2-casting" class="headerlink" title="2. casting"></a>2. casting</h2><h3 id="C-é£æ ¼"><a href="#C-é£æ ¼" class="headerlink" title="C é£æ ¼"></a>C é£æ ¼</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-comment">// éšå¼ç±»å‹è½¬æ¢ï¼Œå¾ˆå®¹æ˜“åšåˆ°ä¸”æ²¡æœ‰æ•°æ®ä¸¢å¤±</span><br>	<span class="hljs-type">int</span> a1 = <span class="hljs-number">5</span>;<br>	<span class="hljs-type">double</span> b1 = a1;<br>	std::cout &lt;&lt; a1 &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; b1 &lt;&lt; std::endl;<br><br>	<span class="hljs-comment">// éšå¼ç±»å‹è½¬æ¢ï¼Œå› ä¸ºä¸éœ€è¦å…·ä½“è¯´æ˜è¦æŠŠè¿™ä¸ªç±»å‹è½¬æ¢æˆå“ªä¸ªç±»å‹</span><br>	<span class="hljs-type">double</span> a2 = <span class="hljs-number">5.3</span>;<br>	<span class="hljs-type">int</span> b2 = a2;<br>	std::cout &lt;&lt; a2 &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; b2 &lt;&lt; std::endl;<br><br>	<span class="hljs-comment">// æ˜¾ç¤ºç±»å‹è½¬æ¢</span><br>	<span class="hljs-type">double</span> a3 = <span class="hljs-number">5.3</span>;<br>	<span class="hljs-type">int</span> b3 = (<span class="hljs-type">int</span>)a3;<br>	std::cout &lt;&lt; a3 &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; b3 &lt;&lt; std::endl;<br><br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">5, 5</span><br><span class="hljs-comment">5.3, 5</span><br><span class="hljs-comment">5.3, 5</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure>

<h3 id="C-é£æ ¼-1"><a href="#C-é£æ ¼-1" class="headerlink" title="C++ é£æ ¼"></a>C++ é£æ ¼</h3><p>C++é£æ ¼çš„è½¬æ¢æœ‰å¤šç§ï¼Œä¸€ä¸ªæ˜¯<code>static_cast</code>ï¼Œè¿˜æœ‰<code>reinterpret_cast</code>ã€<code>dynamic_cast</code>ã€<code>const_cast</code>ï¼Œå…±è¿™å››ç§ä¸»è¦çš„ castã€‚å®ƒä»¬å¹¶ä¸èƒ½åšä»»ä½• C é£æ ¼ç±»å‹è½¬æ¢åšä¸åˆ°çš„äº‹æƒ…ï¼Œè¿™å¹¶ä¸æ˜¯æ·»åŠ æ–°åŠŸèƒ½ï¼Œåªæ˜¯æ·»åŠ äº†ä¸€äº›<em><strong>syntax sugar</strong></em>ã€‚</p>
<ul>
<li><p><code>dynamic_cast</code>ï¼Œå®ƒä¼šå®é™…æ‰§è¡Œä¸€ä¸ªæ£€æŸ¥ï¼Œå¦‚æœè½¬æ¢ä¸æˆåŠŸè¿”å› NULLï¼Œæ‰€ä»¥è¿™åšäº†é¢å¤–çš„äº‹æƒ…ï¼Œä¼šé™ä½è¿è¡Œé€Ÿåº¦ã€‚ä½†åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼ŒC++é£æ ¼ç±»å‹è½¬æ¢å¹¶ä¸åšé¢å¤–çš„äº‹æƒ…ï¼Œå®ƒä»¬åªæ˜¯ä¸€äº›ä»£ç ä¸­çš„è‹±æ–‡å•è¯ã€‚ </p>
</li>
<li><p><code>static_cast</code>ï¼Œæ„æ€æ˜¯é™æ€ç±»å‹è½¬æ¢ï¼Œåœ¨é™æ€ç±»å‹è½¬æ¢çš„æƒ…å†µä¸‹ï¼Œè¿˜ä¼šåšä¸€äº›å…¶å®ƒçš„ç¼–è¯‘æ—¶æ£€æŸ¥ï¼Œæ£€æŸ¥è¿™ç§è½¬æ¢æ˜¯å¦å¯èƒ½ã€‚ </p>
</li>
<li><p><code>reinterpret_cast</code>ä¹Ÿæ˜¯ä¸€æ ·ï¼Œå°±åƒæ˜¯æŠŠæˆ‘ä»¬è¯´è¿‡çš„<strong>ç±»å‹åŒå…³</strong>ç”¨è‹±è¯­è¡¨è¾¾å‡ºæ¥ä¸€æ ·ï¼Œæ„æ€å°±æ˜¯æˆ‘è¦æŠŠè¿™æ®µå†…å­˜é‡æ–°è§£é‡Šæˆå…¶å®ƒä¸œè¥¿.</p>
</li>
<li><p><code>const_cast</code>ï¼Œç§»é™¤æˆ–è€…æ·»åŠ å˜é‡çš„ const é™å®šã€‚</p>
</li>
</ul>
<p>æ‰€ä»¥ä¸ºä»€ä¹ˆè¦æè¿™ä¹ˆå¤š CAST ï¼Ÿå› ä¸ºé™¤äº†å¯èƒ½æ”¶åˆ°ä¸Šé¢è¯´çš„é‚£äº›ç¼–è¯‘æ—¶çš„æ£€æŸ¥å¤–ï¼Œè¿˜å¯ä»¥æ–¹ä¾¿æˆ‘ä»¬ä»ä»£ç åº“ä¸­æœç´¢å®ƒä»¬ã€‚å¦‚æœæˆ‘æƒ³çœ‹åˆ°æˆ‘çš„ç±»å‹è½¬æ¢éƒ½åœ¨å“ªå„¿ï¼Œä¹Ÿè®¸æˆ‘æœ‰æ€§èƒ½é—®é¢˜è€Œä¸æƒ³ç”¨<code>dynamic_cast</code>ï¼Œæˆ‘å¯ä»¥ç›´æ¥æœç´¢è¿™ä¸ªè¯ï¼Œå¦‚æœç”¨çš„æ˜¯ C è¯­è¨€é£æ ¼çš„ castï¼Œå°±å¾ˆéš¾å»æœç´¢å®ƒï¼Œæ‰€ä»¥å®ƒå¯¹ç¨‹åºå‘˜çš„é˜…è¯»å’Œç¼–å†™ä»£ç éƒ½æœ‰å¸®åŠ©ã€‚ è€Œä¸”å®ƒä¹Ÿèƒ½å¸®åŠ©æˆ‘ä»¬å‡å°‘åœ¨å°è¯•å¼ºåˆ¶è½¬æ¢æ—¶ï¼Œå¯èƒ½æ„å¤–çŠ¯ä¸‹çš„é”™è¯¯ï¼Œæ¯”å¦‚ç±»å‹ä¸å…¼å®¹ã€‚</p>
<h1 id="70-Conditional-and-Action-Breakpoints-in-C"><a href="#70-Conditional-and-Action-Breakpoints-in-C" class="headerlink" title="70. Conditional and Action Breakpoints in C++"></a>70. Conditional and Action Breakpoints in C++</h1><p>[70 æ¡ä»¶ä¸æ“ä½œæ–­ç‚¹ - cherno-cpp-notes (nagi.fun)](<a target="_blank" rel="noopener" href="https://nagi.fun/Cherno-CPP-Notes/51-100/70">https://nagi.fun/Cherno-CPP-Notes/51-100/70</a> Conditional and Action Breakpoints in C%2B%2B&#x2F;)</p>
<p>æœ¬è®²å†…å®¹æ˜¯ä¸€ä¸ªç®€å•çš„ VS å¼€å‘å’Œè°ƒè¯•çš„æŠ€å·§ï¼Œä¸è¿‡ä¸ä»…ä»…æ˜¯æ–­ç‚¹ï¼Œè€Œæ˜¯å…³äºæ¡ä»¶ä¸æ“ä½œåº”ç”¨åœ¨æ–­ç‚¹ä¸Šã€‚</p>
<h2 id="1-æ¡ä»¶æ–­ç‚¹-Condition"><a href="#1-æ¡ä»¶æ–­ç‚¹-Condition" class="headerlink" title="1. æ¡ä»¶æ–­ç‚¹ Condition"></a>1. æ¡ä»¶æ–­ç‚¹ Condition</h2><p>é€šè¿‡æ¡ä»¶æˆ–æ¡ä»¶æ–­ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥å‘Šè¯‰è°ƒè¯•å™¨æƒ³åœ¨è¿™é‡Œæ”¾ç½®ä¸€ä¸ªæ–­ç‚¹ï¼Œä½†æˆ‘å¸Œæœ›æ–­ç‚¹åœ¨ç‰¹å®šæ¡ä»¶ä¸‹è§¦å‘ï¼Œæ¯”å¦‚å†…å­˜ä¸­çš„æŸäº›ä¸œè¥¿æ»¡è¶³äº†æ¡ä»¶å°±è§¦å‘è¿™ä¸ªæ–­ç‚¹ã€‚</p>
<h2 id="2-æ“ä½œæ–­ç‚¹-Action"><a href="#2-æ“ä½œæ–­ç‚¹-Action" class="headerlink" title="2. æ“ä½œæ–­ç‚¹ Action"></a>2. æ“ä½œæ–­ç‚¹ Action</h2><p>æ“ä½œæ–­ç‚¹æ˜¯å…è®¸æˆ‘ä»¬é‡‡å–æŸç§åŠ¨ä½œï¼Œä¸€èˆ¬æ˜¯åœ¨ç¢°åˆ°æ–­ç‚¹æ—¶æ‰“å°ä¸€äº›ä¸œè¥¿åˆ°æ§åˆ¶å°ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸¤ç§ç±»å‹çš„æ“ä½œæ–­ç‚¹ï¼š</p>
<ul>
<li>ä¸€æ˜¯è®©ä½ åœ¨æ‰“å°ä½ æƒ³è¦çš„ä¸œè¥¿æ—¶ç»§ç»­æ‰§è¡Œï¼Œæ¯”å¦‚ä½ æƒ³è®°å½•é¼ æ ‡ä½ç½®ï¼Œæ¯æ¬¡é¼ æ ‡ç§»åŠ¨ï¼Œç§»åŠ¨äº‹ä»¶ï¼ˆæ‰“å°é¼ æ ‡ä½ç½®ï¼‰å°±ä¼šå‘ç”Ÿï¼Œå¯ä»¥è®©é‚£ä¸ªæ–­ç‚¹æ‰“å°ä¸€äº›ä¸œè¥¿åˆ°æ§åˆ¶å°ä½†ä¿æŒç¨‹åºè¿è¡Œï¼›</li>
<li>äºŒæ˜¯æ‰“å°ä¸€äº›ä¸œè¥¿ï¼Œä½†ä»ç„¶ä¸­æ–­ç¨‹åºï¼Œæš‚åœç¨‹åºçš„æ‰§è¡Œï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ£€æŸ¥å†…å­˜ä¸­çš„å…¶å®ƒä¸œè¥¿ã€‚</li>
</ul>
<h1 id="71-Safety-in-modern-C-and-how-to-teach-it"><a href="#71-Safety-in-modern-C-and-how-to-teach-it" class="headerlink" title="71. Safety in modern C++ and how to teach it"></a>71. Safety in modern C++ and how to teach it</h1><p>æœ¬èŠ‚å°†è®¨è®ºC++ä¸­â€œå®‰å…¨â€æ„å‘³ç€ä»€ä¹ˆã€‚</p>
<p>å®‰å…¨ç¼–ç¨‹ï¼Œå°±æ˜¯åœ¨ç¼–ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›é™ä½å´©æºƒã€å†…å­˜æ³„æ¼ã€éæ³•è®¿é—®ç­‰é—®é¢˜ã€‚ éšç€C++11çš„åˆ°æ¥ï¼ŒChernoæƒ³è¯´çš„æ˜¯åº”è¯¥è½¬å‘æ™ºèƒ½æŒ‡é’ˆè¿™æ ·çš„æ¦‚å¿µï¼Œè€Œä¸æ˜¯åŸå§‹æŒ‡é’ˆã€‚è¿™ä¸»è¦æ˜¯å› ä¸ºå­˜åœ¨å†…å­˜æ³„æ¼ä»¥åŠä¸çŸ¥é“å®é™…åˆ†é…æˆ–è€…é‡Šæ”¾äº†å“ªäº›å†…å­˜çš„é—®é¢˜ã€‚æœ¬èŠ‚ä¹Ÿé‡ç‚¹å›´ç»•æŒ‡é’ˆå’Œå†…å­˜ï¼Œè€Œä¸æ˜¯å¼‚å¸¸æˆ–è€…æ˜¯å…¶å®ƒä¸å®‰å…¨ç¼–ç¨‹æœ‰å…³çš„æ¯”å¦‚é”™è¯¯æ£€æŸ¥ä¹‹ç±»çš„ä¸œè¥¿ã€‚</p>
<p>å½“æˆ‘ä»¬å¼€å§‹å€¾å‘äº[æ™ºèƒ½æŒ‡é’ˆ](<a target="_blank" rel="noopener" href="https://nagi.fun/Cherno-CPP-Notes/51-100/71">https://nagi.fun/Cherno-CPP-Notes/51-100/71</a> Safety in modern C%2B%2B and how to teach it&#x2F;44 SMART POINTERS in C++.md)ä¹‹ç±»çš„ä¸œè¥¿æ—¶ï¼Œè¿™ä¸€åˆ‡éƒ½å¯ä»¥å½’ç»“ä¸ºæˆ‘æƒ³è¦åˆ†é…<strong>å †å†…å­˜</strong>ï¼Œæ™ºèƒ½æŒ‡é’ˆå’Œè‡ªåŠ¨å†…å­˜ç®¡ç†ç³»ç»Ÿçš„å­˜åœ¨ä½¿ç¨‹åºå‘˜çš„ç”Ÿæ´»æ›´å®¹æ˜“ï¼Œä¸”æ›´æœ‰åŠ›ï¼Œè¿™æ„å‘³ç€ä½ ä¸å†éœ€è¦å¤„ç†æŸäº›äº‹æƒ…ï¼Œå°±ç®—å¿˜è®°å¤„ç†äº†å®ƒä¹Ÿä¼šè‡ªåŠ¨ä¸ºä½ å¤„ç†ã€‚</p>
<p>åˆ†é…å†…å­˜è¿™ä»¶äº‹å¾ˆç®€å•ï¼Œä½ æƒ³åœ¨å †ä¸Šåˆ†é…ä¸€å—å†…å­˜ï¼Œå¦‚æœä½ åˆ†é…æˆåŠŸä¼šå¾—åˆ°ä¸€ä¸ªæŒ‡å‘é‚£å—å†…å­˜å¼€å§‹éƒ¨åˆ†çš„æœ‰æ•ˆçš„æŒ‡é’ˆï¼Œå®ƒå°†ä¸€ç›´å­˜åœ¨ï¼Œç›´åˆ°ä½ æ˜ç¡®åœ°åˆ é™¤å®ƒï¼Œè¿™å°±æ˜¯æ•´ä¸ªåŸºæœ¬æ¦‚å¿µäº†ã€‚</p>
<p>é‚£é—®é¢˜å°±æ¥è‡ªå‡ æ–¹é¢äº†ï¼š</p>
<ul>
<li>å¦‚æœæˆ‘***å¿˜è®°é‡Šæ”¾***æˆ‘çš„å†…å­˜ä¼šå‘ç”Ÿä»€ä¹ˆé—®é¢˜ï¼Œå¯èƒ½æ˜¯æ— å®³çš„ç”šè‡³æ³¨æ„ä¸åˆ°ï¼Œä¹Ÿæœ‰å†…å­˜è€—å°½ç¾éš¾æ€§åœ°å¯¼è‡´ç¨‹åºå´©æºƒã€‚è€Œâ€œç»†å¿ƒä¸€ç‚¹ã€åšä¸€ä¸ªå¥½ç¨‹åºå‘˜â€æ˜¾ç„¶ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„è§£å†³æ–¹æ¡ˆï¼Œä½ è¿˜æ˜¯éœ€è¦è€ƒè™‘æ›´å¤æ‚çš„ç»“æ„æ¥åˆ é™¤ç”±ä½ è‡ªå·±æ˜ç¡®åˆ†é…çš„å†…å­˜ã€‚</li>
<li>è¿˜æœ‰<em>ownership</em>ï¼ˆæ‰€æœ‰æƒé—®é¢˜ï¼‰ï¼Œå³è°ä¼šæ‹¥æœ‰åˆ†é…çš„å†…å­˜å‘¢ï¼Ÿå¦‚æœæˆ‘æœ‰ä¸€ä¸ªåŸå§‹æŒ‡é’ˆï¼ŒæŒ‡å‘é‚£å—å†…å­˜ï¼Œæˆ‘æŠŠå®ƒä»ä¸€ä¸ªå‡½æ•°ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°ï¼Œä»ä¸€ä¸ªç±»ä¼ é€’ç»™å¦ä¸€ä¸ªç±»ï¼Œè°ä¼š<strong>è´Ÿè´£ç®¡ç†å’Œæ¸…ç†è¿™äº›å†…å­˜</strong>å°±æ˜¯***æ‰€æœ‰æƒé—®é¢˜***ã€‚ä½ ä¸ç¡®å®šAã€Bè¿™ä¸¤ä¸ªç®¡ç†é‚£ä¸ªåŸå§‹æŒ‡é’ˆçš„å‡½æ•°å“ªä¸ªæœ€åç»“æŸï¼Œä½†æ˜¯è¦ä¿è¯ä¸¤ä¸ªå‡½æ•°éƒ½èƒ½è®¿é—®é‚£ä¸ªæŒ‡é’ˆï¼Œé™¤éä½ æŒ‡æ˜è¿™ä¸¤ä¸ªå‡½æ•°è¿è¡Œå®Œåå†æ‰§è¡Œä¸€ä¸ªæ¸…ç†æ­¥éª¤ï¼Œä½†è¿™æ˜¾ç„¶ä¼šæå¤§å¤æ‚åŒ–æ•´ä¸ªç¨‹åºï¼Œä¹Ÿæ˜¯æˆ‘ä»¬ç»å¯¹æƒ³é¿å…çš„ã€‚æˆ‘æƒ³è¦é‡æ–°åˆ†é…æ•°æ®ï¼Œä½†æˆ‘ä¸æƒ³è¦æ˜¾å¼åœ°å»ºç«‹ä¸€äº›ä¸œè¥¿ï¼Œæ¯”å¦‚ç®¡ç†æ‰€æœ‰æƒæˆ–è€…è½¬ä¹‰æ‰€æœ‰æƒï¼Œwhichä¼šä½¿äº‹æƒ…å˜å¾—éå¸¸å¤æ‚ï¼Œä½ å°†ä¸å¾—ä¸æ‰‹åŠ¨è·Ÿè¸ªå®ƒã€‚è¿™æ˜¯å¦ä¸€ç§æ‰€æœ‰æƒé—®é¢˜ã€‚</li>
</ul>
<p>è¿™ä¸¤å¤§é—®é¢˜å°±æ˜¯æˆ‘ä»¬éœ€è¦è‡ªåŠ¨åˆ é™¤å†…å­˜çš„åŸå› ï¼Œå½“æˆ‘ä»¬è®¨è®ºC++çš„å®‰å…¨é—®é¢˜æ—¶ï¼Œç‰¹åˆ«æ˜¯æ™ºèƒ½æŒ‡é’ˆæ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦è‡ªåŠ¨åŒ–ä¸€è¡Œç®€å•çš„ä»£ç å°±æå®šäº†å†…å­˜åˆ é™¤ä¸é‡Šæ”¾é—®é¢˜ï¼Œæ‰€ä»¥ä½ ç™¾åˆ†ä¹‹ç™¾ä¸åº”è¯¥æ‹’ç»ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆï¼Œè‡ªå·±æ„å»ºã€ä¿®æ”¹æ™ºèƒ½æŒ‡é’ˆä¹Ÿæ˜¯æ­£å¸¸çš„ã€‚</p>
<p>å½“ç„¶å¦‚æœåªæ˜¯åšä¸€ä¸ªä¸€ç™¾æ¥è¡Œçš„å°å‹sandboxåº”ç”¨ï¼Œå¯èƒ½ç”¨åŸå§‹æŒ‡é’ˆå¯è¯»æ€§æ›´å¥½ï¼Œå› ä¸ºä½ ä¸å…³å¿ƒæ˜¯å¦é‡Šæ”¾äº†å†…å­˜ï¼Œä¹Ÿä¸å…³å¿ƒæ‰€æœ‰æƒï¼Œä½ åªç”¨å†™ä¸€ä¸ª<code>*</code>å°±èƒ½è®©ä»£ç ä¼šæ›´å¹²å‡€ã€‚</p>
<p>Chernoè®¤ä¸ºå¤§å®¶åº”è¯¥åœæ­¢å…³äºâ€œSmart or Rawâ€çš„äº‰è®ºï¼Œåœ¨ä¸€ä¸ªçœŸæ­£çš„æ¡†æ¶ç¯å¢ƒã€çœŸæ­£çš„åº”ç”¨ä¸­ï¼Œç”Ÿäº§ä»£ç åº”è¯¥ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆï¼Œä¸è¿™ä¹ˆåšæ˜¯éå¸¸æ„šè ¢çš„ä¸¾åŠ¨ï¼Œå¤§éƒ¨åˆ†å…¸å‹çš„é—®é¢˜éƒ½å¯ä»¥é€šè¿‡è¿™æ ·è§£å†³ï¼ˆå¯èƒ½çº¿ç¨‹æ–¹é¢æœ‰ç‚¹é—®é¢˜ï¼Œå› ä¸º<code>shared_ptr</code>ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆè¿˜æœ‰å¾ˆå¤šå…¶å®ƒçº¦æŸï¼Œæ‰€ä»¥æ™ºèƒ½æŒ‡é’ˆä¸æ˜¯é€šç”¨çš„å†…å­˜è§£å†³æ–¹æ¡ˆï¼‰ã€‚æ›´ä¸¥è‚ƒçš„ä»£ç ä¸­å®Œå…¨åº”è¯¥ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆï¼Œåªæ˜¯åˆå­¦C++æ˜¯éœ€è¦äº†è§£åŸå§‹æŒ‡é’ˆå’Œå†…å­˜æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œå› ä¸º[æ™ºèƒ½æŒ‡é’ˆåªæ˜¯åŸå§‹æŒ‡é’ˆä¸Šçš„åŒ…è£…](<a target="_blank" rel="noopener" href="https://nagi.fun/Cherno-CPP-Notes/51-100/71">https://nagi.fun/Cherno-CPP-Notes/51-100/71</a> Safety in modern C%2B%2B and how to teach it&#x2F;44 SMART POINTERS in C++.md#^a6997e)ï¼Œå®ƒä»¬å›´ç»•åŸå§‹æŒ‡é’ˆåšäº†é¢å¤–çš„è¾…åŠ©ä»£ç ï¼Œä»¥ä¾¿è‡ªåŠ¨åŒ–æ‰€æœ‰äº‹æƒ…ï¼Œä½†æœ¬è´¨ä¸Šåªæ˜¯åˆ é™¤å’Œé‡Šæ”¾äº†å†…å­˜ã€‚ä½ å¿…é¡»å¾—çŸ¥é“è¿™ä¸€åˆ‡æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆChernoæœ‰å‡ è¯¾æ˜¯è®²ç¼–è¯‘å™¨å’Œé“¾æ¥æ˜¯å¦‚ä½•å·¥ä½œçš„([06 How the C++ Compiler Works](<a target="_blank" rel="noopener" href="https://nagi.fun/Cherno-CPP-Notes/51-100/71">https://nagi.fun/Cherno-CPP-Notes/51-100/71</a> Safety in modern C%2B%2B and how to teach it&#x2F;06 How the C++ Compiler Works.md)ã€[07 How the C++ Linker Works](<a target="_blank" rel="noopener" href="https://nagi.fun/Cherno-CPP-Notes/51-100/71">https://nagi.fun/Cherno-CPP-Notes/51-100/71</a> Safety in modern C%2B%2B and how to teach it&#x2F;07 How the C++ Linker Works.md))</p>
<h1 id="72-Precompiled-Headers-in-C"><a href="#72-Precompiled-Headers-in-C" class="headerlink" title="72. Precompiled Headers in C++"></a>72. Precompiled Headers in C++</h1><h2 id="1-ä»€ä¹ˆæ˜¯é¢„ç¼–è¯‘å¤´æ–‡ä»¶"><a href="#1-ä»€ä¹ˆæ˜¯é¢„ç¼–è¯‘å¤´æ–‡ä»¶" class="headerlink" title="1. ä»€ä¹ˆæ˜¯é¢„ç¼–è¯‘å¤´æ–‡ä»¶"></a>1. ä»€ä¹ˆæ˜¯é¢„ç¼–è¯‘å¤´æ–‡ä»¶</h2><p>é¢„ç¼–è¯‘çš„å¤´æ–‡ä»¶å®é™…ä¸Šæ˜¯è®©ä½ æŠ“å–ä¸€å †å¤´æ–‡ä»¶ï¼Œå¹¶å°†å®ƒä»¬è½¬æ¢æˆç¼–è¯‘å™¨å¯ä»¥ä½¿ç”¨çš„æ ¼å¼ï¼Œè€Œä¸å¿…ä¸€éåˆä¸€éåœ°è¯»å–è¿™äº›å¤´æ–‡ä»¶ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œæ¯æ¬¡åœ¨ C++æ–‡ä»¶ä¸­<code>#include &lt;vector&gt;</code>çš„æ—¶å€™ï¼Œå®ƒéœ€è¦è¯»å–æ•´ä¸ª Vector å¤´æ–‡ä»¶å¹¶ç¼–è¯‘å®ƒï¼Œè€Œä¸” Vector è¿˜åŒ…å«ä¸€å †å…¶å®ƒçš„åŒ…å«æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ä¹Ÿä¸€æ ·éœ€è¦è¯»å–ï¼Œé¢„å¤„ç†å™¨å¿…é¡»æŠŠè¿™äº›å¤åˆ¶åˆ°è¿™ä¸ª Vector æ–‡ä»¶ï¼Œè¿™å°±æœ‰ 10w+è¡Œä»£ç äº†ï¼Œå®ƒä»¬éœ€è¦è¢«è§£æå¹¶ä»¥æŸç§å½¢å¼æ ‡è®°å¹¶ç¼–è¯‘ï¼Œåœ¨ä½ æƒ³è¦ç¼–è¯‘ main æ–‡ä»¶ä¹‹å‰ï¼Œå› ä¸ºä½ çš„ main æ–‡ä»¶åŒ…å« Vector æ–‡ä»¶çš„è¯ï¼ŒVector å¿…é¡»å¤åˆ¶å¹¶ç²˜è´´åˆ° main æ–‡ä»¶ä¸­ï¼Œç„¶åæ‰€æœ‰ä»£ç æ¯æ¬¡éƒ½éœ€è¦è¢«è§£æå’Œç¼–è¯‘ã€‚é‡ç‚¹æ˜¯æ¯æ¬¡ä½ å¯¹ C++æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œå“ªæ€•åªæ˜¯åŠ äº†ä¸ªç©ºæ ¼ï¼Œæ•´ä¸ªæ–‡ä»¶éƒ½è¦é‡æ–°ç¼–è¯‘ï¼Œæ‰€ä»¥ Vector æ–‡ä»¶å¿…é¡»è¢«å¤åˆ¶å¹¶ç²˜è´´åˆ°ä½ çš„ C++æ–‡ä»¶ä¸­ï¼Œä»å¤´å¼€å§‹é‡æ–°è§£æå¹¶ç¼–è¯‘ã€‚ä¸ä»…å¦‚æ­¤ï¼Œä½ çš„é¡¹ç›®ä¸­æœ‰å¤šä¸ªæ–‡ä»¶å®ƒä»¬åˆéƒ½åŒ…å«äº† Vectorï¼Œä½ ä¸å¾—ä¸æŒç»­ä¸€ééåœ°è§£æåŒæ ·çš„ä»£ç ï¼Œè¿™éœ€è¦å¤§é‡æ—¶é—´ã€‚</p>
<p>æ‰€ä»¥ä½ å¯ä»¥ç”¨ä¸€ä¸ªå«åš<strong>é¢„ç¼–è¯‘å¤´æ–‡ä»¶</strong>çš„ä¸œè¥¿æ¥ä»£æ›¿ï¼Œå®ƒçš„ä½œç”¨æ˜¯æ¥å—ä¸€å †ä½ å‘Šè¯‰å®ƒè¦æ¥æ”¶çš„å¤´æ–‡ä»¶ï¼ˆåŸºæœ¬ä¸Šæ˜¯ä¸€å †ä»£ç ï¼‰å®ƒåªç¼–è¯‘ä¸€æ¬¡ï¼Œä»¥äºŒè¿›åˆ¶æ ¼å¼å­˜å‚¨ï¼Œè¿™å¯¹ç¼–è¯‘å™¨æ¥è¯´æ¯”å•çº¯çš„æ–‡æœ¬å¤„ç†è¦å¿«å¾—å¤šã€‚è¿™æ ·å°±ä¸éœ€è¦è§£ææ•´ä¸ª Vector æ–‡ä»¶ï¼Œæ¯æ¬¡å®ƒåªéœ€è¦çœ‹é¢„ç¼–è¯‘çš„å¤´æ–‡ä»¶ï¼Œwhich æ­¤æ—¶å·²ç»æ˜¯éå¸¸å¿«é€Ÿä¸”å®¹æ˜“ä½¿ç”¨çš„ã€å¯¹ç¼–è¯‘å™¨æ¥è¯´å¾ˆå®¹æ˜“ä½¿ç”¨çš„äºŒè¿›åˆ¶æ ¼å¼ã€‚è¿™æ„å‘³ç€å®ƒä¼šå¤§å¹…åŠ å¿«ç¼–è¯‘æ—¶é—´ï¼Œç‰¹åˆ«æ˜¯ä½ çš„é¡¹ç›®è¶Šæ¥è¶Šå¤§ï¼Œä½ ä¼šæœ‰è¶Šæ¥è¶Šå¤šçš„ C++æ–‡ä»¶ã€‚è¶Šæ¥è¶Šå¤šçš„å¤´æ–‡ä»¶ï¼Œè¯¸å¦‚æ­¤ç±»ï¼Œä½ å¯ä»¥åœ¨é¢„ç¼–è¯‘å¤´æ–‡ä»¶ä¸­æ·»åŠ æ›´å¤šå†…å®¹ï¼Œä½ ä¹Ÿæœ‰æ›´å¤šä½¿ç”¨äº†å…±åŒå¤´æ–‡ä»¶çš„æºæ–‡ä»¶éœ€è¦ç¼–è¯‘ï¼Œå®ƒä¼šæŒ‡æ•°çº§åœ°åŠ é€Ÿï¼Œå¥½çš„å¤šå¾—å¤šã€‚</p>
<p>æ‰€ä»¥å¦‚æœä½ å…³å¿ƒç¼–è¯‘æ—¶é—´ï¼Œä½ ä¸€å®šè¦ä½¿ç”¨é¢„ç¼–è¯‘å¤´æ–‡ä»¶ã€‚</p>
<p>ä¸è¿‡ï¼Œè¿˜æœ‰äº›ä½ ä¸åº”è¯¥ç”¨é¢„ç¼–è¯‘å¤´æ–‡ä»¶åšçš„äº‹ï¼š åˆ°ç›®å‰ä¸ºæ­¢æåˆ°çš„é¢„ç¼–è¯‘å¤´æ–‡ä»¶ï¼Œå…¶æœ¬è´¨è¿˜æ˜¯å¤´æ–‡ä»¶ï¼Œwhich åŒ…å«äº†ä¸€å †å…¶å®ƒå¤´æ–‡ä»¶ã€‚å› æ­¤ä½ å¯èƒ½ä¼šæƒ³æŠŠé¡¹ç›®ä¸­æ‰€æœ‰çš„ä¸œè¥¿éƒ½æ”¾åœ¨é¢„ç¼–è¯‘å¤´æ–‡ä»¶ä¸­ï¼Œå¦‚æœè¿™æ ·åšçš„è¯æ˜¯ä¸æ˜¯æ„å»ºé€Ÿåº¦é£å¿«ã€‚</p>
<p>æ˜¯è¿™æ ·ï¼Œä½†æ˜¯å¦‚æœä½ æŠŠä¸œè¥¿æ”¾åˆ°é¢„ç¼–è¯‘å¤´æ–‡ä»¶ä¸­ï¼Œè€Œè¿™äº›ä¸œè¥¿ä¼šå‘ç”Ÿå˜åŒ–ï¼Œåœ¨å®é™…çš„é¡¹ç›®ä¸­æˆ‘ä»¬åœ¨å¤„ç†é¡¹ç›®æ‰€ä»¥å®ƒå¾ˆæœ‰å¯èƒ½ä¼šå˜åŒ–ï¼Œæ˜¾ç„¶å¿…é¡»é‡æ–°æ„å»ºé¢„ç¼–è¯‘çš„å¤´æ–‡ä»¶ï¼Œè€Œè¿™è¦èŠ±è´¹æ—¶é—´ï¼Œè¿™ä¹Ÿå¯èƒ½ä¼šå¯¼è‡´ç¼–è¯‘é€Ÿåº¦å˜æ…¢ã€‚æ‰€ä»¥ä¸è¦æŠŠä¼šé¢‘ç¹æ›´æ”¹çš„æ–‡ä»¶æ”¾å…¥é¢„ç¼–è¯‘å¤´æ–‡ä»¶ä¸­ã€‚</p>
<p>å°½ç®¡é¢„ç¼–è¯‘å¤´æ–‡ä»¶å¾ˆæœ‰ç”¨ï¼Œè€Œä¸”æŠŠä½ è‡ªå·±çš„é¡¹ç›®æ–‡ä»¶å½“è¿›å»ä¹Ÿæ²¡é—®é¢˜ï¼Œæ¯”å¦‚æŠŠä¸€ä¸ªä¸ä¼šéœ€è¦ä¿®æ”¹çš„ Log.h æ–‡ä»¶æ”¾è¿›å»å°±å¾ˆå¥½ï¼Œå› ä¸ºè¿™ä¸ªæ–‡ä»¶å¾ˆå¸¸ç”¨ï¼Œä¹Ÿæ–¹ä¾¿ä½¿ç”¨ï¼Œä½ ä¸éœ€è¦å†æ‰‹åŠ¨åœ°å°† Log åŒ…å«åˆ°é¡¹ç›®ä¸­çš„æ¯ä¸ª C++æ–‡ä»¶ä¸­ã€‚ä½†åªè¦è¿™ä¸ª Log ä¼šä¿®æ”¹ï¼Œå°±ä¸é€‚åˆæ”¾å…¥é¢„ç¼–è¯‘å¤´æ–‡ä»¶ä¸­ï¼Œå¦åˆ™æ¯æ¬¡éƒ½è¦é‡æ–°ç¼–è¯‘ã€‚</p>
<p>é¢„ç¼–è¯‘å¤´æ–‡ä»¶çœŸæ­£æœ‰ç”¨çš„æ˜¯å¤–éƒ¨ä¾èµ–ï¼Œæœ¬è´¨ä¸Šå®ƒä¸»è¦ç”¨äºä¸æ˜¯ä½ å†™çš„é‚£äº›ä»£ç ï¼Œæ¯”å¦‚ STLã€Windows api ç­‰ï¼Œå¦‚æœä½ è¦<code>#include &lt;windows.h&gt;</code>ï¼Œwhich is a å·¨å¤§çš„çš„å¤´æ–‡ä»¶ï¼ŒåŒ…å«äº†éå¸¸å¤šçš„å…¶å®ƒå¤´æ–‡ä»¶ï¼Œä½ ä¸å›å»ä¿®æ”¹ windows.h æˆ–è€… STLï¼Œæ‰€ä»¥å®ƒæ²¡æœ‰ç†ç”±ä¸è¢«ä½ æ”¾åœ¨é¢„ç¼–è¯‘å¤´æ–‡ä»¶ä¸­ï¼Œå› ä¸ºå®ƒä»¬çš„ä»£ç å¯èƒ½æ¯”ä½ çš„å®é™…é¡¹ç›®ä»£ç å¤šå¾ˆå¤šå€ï¼Œæ¯ä¸ª C++æ–‡ä»¶æ¯æ¬¡éƒ½è¦ç¼–è¯‘å®ƒä»¬å¯æƒ³æ˜¯ä¸€ä»¶å¤šä¹ˆææ€–çš„äº‹æƒ…ï¼Œä½ å¯èƒ½æ°¸è¿œä¹Ÿä¸ä¼šå»ä¿®æ”¹å®ƒä»¬ã€‚å› æ­¤ç›´æ¥æŠŠå®ƒä»¬æ”¾å…¥åˆ°é¢„ç¼–è¯‘å¤´æ–‡ä»¶ä¸­å°±ä¸ç”¨ç®¡äº†ã€‚</p>
<h2 id="2-ä¾èµ–å…³ç³»"><a href="#2-ä¾èµ–å…³ç³»" class="headerlink" title="2. ä¾èµ–å…³ç³»"></a>2. ä¾èµ–å…³ç³»</h2><p>PCHï¼ˆå°±æ˜¯é¢„ç¼–è¯‘å¤´æ–‡ä»¶ï¼‰å®é™…ä¸Šåšçš„äº‹æ˜¯æŠŠæ‰€æœ‰ä¸œè¥¿éƒ½å¡è¿›æ¥ï¼Œå®ƒå¯èƒ½ä¼šéšè—ç°åœ¨å®é™…æ­£åœ¨ä½¿ç”¨çš„ä¸œè¥¿ï¼Œä¼šå½±å“å¯è¯»æ€§ã€‚æ¯”å¦‚åªæœ‰ä¸ªåˆ«æ–‡ä»¶éœ€è¦ä½¿ç”¨ä¸€ä¸ªçª—å£åº“ GLFWï¼Œé‚£å°±æ²¡å¿…è¦æŠŠæ‰€æœ‰çš„ä¾èµ–é¡¹éƒ½æ”¾åœ¨ PCH ä¸­ï¼Œå¦‚æœä½ åªçœ‹ä¸€ä¸ªå•ç‹¬çš„ cpp æ–‡ä»¶ä½ å¹¶ä¸çŸ¥é“å®ƒéœ€è¦ä»€ä¹ˆä¾èµ–ï¼Œå†æŠŠå®ƒå¯¼å…¥å…¶å®ƒæ–‡ä»¶æ—¶å°±ä¸å¥½ç†è§£å®ƒä¾èµ–çš„ä¸œè¥¿äº†ã€‚ä½†å¦‚æœä½ é€šè¿‡å®é™…çš„<code>include</code>åŒ…å«å®ƒä»¬å°±å¾ˆæ¸…æ™°äº†ï¼Œå¯ä»¥çœ‹åˆ°æ¯ä¸ªæ–‡ä»¶éœ€è¦ä»€ä¹ˆæ–‡ä»¶ã€‚ä½†æ˜¯å¦‚æœä½ åªåŒ…å« PCHï¼Œç„¶å PCH ä¸­æ”¾å¾ˆå¤šåŒ…å«æ–‡ä»¶ï¼Œå°±ä¼šæ¯”è¾ƒéº»çƒ¦äº†ã€‚</p>
<p>æ‰€ä»¥<strong>ä¸è¦æŠŠæ‰€æœ‰ä¾èµ–éƒ½æ”¾åœ¨ PCH ä¸­</strong>ï¼Œå› ä¸ºåŒ…å«å®é™…çš„ä¾èµ–ä¼šæ›´å®¹æ˜“é˜…è¯»ã€‚åº”è¯¥æ”¾è¿› PCH çš„ä¸œè¥¿æ˜¯åƒ STL è¿™æ ·çš„ï¼Œå› ä¸º stringã€vectorsã€std::cout æ˜¯è®¸å¤šåœ°æ–¹éƒ½è¦ç”¨åˆ°çš„ï¼Œä½ ä¸å¸Œæœ›æ¯æ¬¡éƒ½ç¼–è¯‘å®ƒä»¬ï¼Œè€Œ GLFW å¯èƒ½å°±åªéœ€è¦ç¼–è¯‘ä¸€æ¬¡ã€‚</p>
<h1 id="73-Dynamic-Casting-in-C"><a href="#73-Dynamic-Casting-in-C" class="headerlink" title="73. Dynamic Casting in C++"></a>73. Dynamic Casting in C++</h1><p><code>dynamic_cast</code>æ˜¯ä¸“é—¨ç”¨äº<strong>æ²¿ç»§æ‰¿å±‚æ¬¡ç»“æ„</strong>è¿›è¡Œçš„å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œæ¯”å¦‚æˆ‘çš„ä¸€ä¸ªæ¸¸æˆé‡Œæœ‰ä¸€ä¸ªå®ä½“ç±»ï¼Œå®ƒæ´¾ç”Ÿå‡ºäº†ç©å®¶ç±»å’Œæ•Œäººç±»ï¼Œå¦‚æœæˆ‘æƒ³å°†ç©å®¶è½¬æ¢ä¸ºå®ä½“æ˜¯å¾ˆç®€å•çš„ï¼Œå› ä¸ºç©å®¶æœ¬èº«å°±æ˜¯å®ä½“å¯¹è±¡ï¼Œå¯ä»¥éšå¼è½¬æ¢ã€‚ä½†å¦‚æœæˆ‘æƒ³å°†ä¸€ä¸ªå®ä½“ç±»å‹è½¬æ¢ä¸ºç©å®¶ï¼Œç¼–è¯‘å™¨ä¼šç›¸ä¿¡æˆ‘ä»¬ï¼Œå¦‚æœå®ƒå¹¶ä¸æ˜¯ä¸€ä¸ªç©å®¶çš„è¯æˆ‘ä»¬å°±ç›¸å½“äºåœ¨å°è¯•ç©å®¶ç‹¬æœ‰çš„æ•°æ®ï¼Œç¨‹åºå¯èƒ½ä¼šå´©æºƒã€‚å› ä¸ºè¿™ä¸ªåŸå› ï¼Œ<code>dynamic_cast</code>å¸¸è¢«ç”¨æ¥åšéªŒè¯ï¼Œå¦‚æœæˆ‘ä»¬å°è¯•ä½¿ç”¨å®ƒå°†ä¸€ä¸ªæ•Œäººè½¬åŒ–ä¸ºç©å®¶ï¼Œè¿™ä¸ªè½¬åŒ–ä¼šå¤±è´¥ï¼Œ<code>dynamic_cast</code>ä¼šè¿”å›ä¸€ä¸ª NULL æŒ‡é’ˆï¼Œä¹Ÿå°±æ˜¯ 0ã€‚</p>
<h1 id="74-BENCHMARKING-in-C-how-to-measure-performance"><a href="#74-BENCHMARKING-in-C-how-to-measure-performance" class="headerlink" title="74. BENCHMARKING in C++ (how to measure performance)"></a>74. BENCHMARKING in C++ (how to measure performance)</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;chrono&gt;</span>	</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Timer</span><br>&#123;<br><span class="hljs-keyword">private</span>:<br>	std::chrono::time_point&lt;std::chrono::high_resolution_clock&gt; m_StartTimepoint;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Timer</span>()<br>	&#123;<br>		m_StartTimepoint = std::chrono::high_resolution_clock::<span class="hljs-built_in">now</span>();<br>	&#125;<br><br>	~<span class="hljs-built_in">Timer</span>()<br>	&#123;<br>		<span class="hljs-built_in">Stop</span>();<br>	&#125;<br>	<br>	<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Stop</span><span class="hljs-params">()</span></span><br><span class="hljs-function">	</span>&#123;<br>		<span class="hljs-keyword">auto</span> EndTimepoint = std::chrono::high_resolution_clock::<span class="hljs-built_in">now</span>();<br>		<span class="hljs-keyword">auto</span> start = std::chrono::<span class="hljs-built_in">time_point_cast</span>&lt;std::chrono::microseconds&gt;(m_StartTimepoint).<span class="hljs-built_in">time_since_epoch</span>().<span class="hljs-built_in">count</span>();<br>		<span class="hljs-keyword">auto</span> end = std::chrono::<span class="hljs-built_in">time_point_cast</span>&lt;std::chrono::microseconds&gt;(EndTimepoint).<span class="hljs-built_in">time_since_epoch</span>().<span class="hljs-built_in">count</span>();<br><br>		<span class="hljs-keyword">auto</span> duration = end - start;<br>		<span class="hljs-type">double</span> ms = duration * <span class="hljs-number">0.001</span>;<br><br>		std::cout &lt;&lt; duration &lt;&lt; <span class="hljs-string">&quot;us (&quot;</span> &lt;&lt; ms &lt;&lt; <span class="hljs-string">&quot;ms)\n&quot;</span>;<br>	&#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-type">int</span> value = <span class="hljs-number">0</span>;<br>	&#123;<br>		Timer timer;<br><br>		<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000000</span>; i++)<br>		&#123;<br>			value += <span class="hljs-number">2</span>;<br>		&#125;<br>	&#125;<br>	std::cout &lt;&lt; value &lt;&lt; std::endl;<br><br>	__debugbreak();<span class="hljs-comment">// VSæ‰“æ–­ç‚¹ä¸“ç”¨è¯­æ³•</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="æ™ºèƒ½æŒ‡é’ˆçš„æ€§èƒ½å¯¹æ¯”"><a href="#æ™ºèƒ½æŒ‡é’ˆçš„æ€§èƒ½å¯¹æ¯”" class="headerlink" title="æ™ºèƒ½æŒ‡é’ˆçš„æ€§èƒ½å¯¹æ¯”"></a>æ™ºèƒ½æŒ‡é’ˆçš„æ€§èƒ½å¯¹æ¯”</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;chrono&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;array&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Timer</span><br>&#123;<br><span class="hljs-keyword">private</span>:<br>	std::chrono::time_point&lt;std::chrono::high_resolution_clock&gt; m_StartTimepoint;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Timer</span>()<br>	&#123;<br>		m_StartTimepoint = std::chrono::high_resolution_clock::<span class="hljs-built_in">now</span>();<br>	&#125;<br><br>	~<span class="hljs-built_in">Timer</span>()<br>	&#123;<br>		<span class="hljs-built_in">Stop</span>();<br>	&#125;<br>	<br>	<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Stop</span><span class="hljs-params">()</span></span><br><span class="hljs-function">	</span>&#123;<br>		<span class="hljs-keyword">auto</span> EndTimepoint = std::chrono::high_resolution_clock::<span class="hljs-built_in">now</span>();<br>		<span class="hljs-keyword">auto</span> start = std::chrono::<span class="hljs-built_in">time_point_cast</span>&lt;std::chrono::microseconds&gt;(m_StartTimepoint).<span class="hljs-built_in">time_since_epoch</span>().<span class="hljs-built_in">count</span>();<br>		<span class="hljs-keyword">auto</span> end = std::chrono::<span class="hljs-built_in">time_point_cast</span>&lt;std::chrono::microseconds&gt;(EndTimepoint).<span class="hljs-built_in">time_since_epoch</span>().<span class="hljs-built_in">count</span>();<br><br>		<span class="hljs-keyword">auto</span> duration = end - start;<br>		<span class="hljs-type">double</span> ms = duration * <span class="hljs-number">0.001</span>;<br><br>		std::cout &lt;&lt; duration &lt;&lt; <span class="hljs-string">&quot;us (&quot;</span> &lt;&lt; ms &lt;&lt; <span class="hljs-string">&quot;ms)\n&quot;</span>;<br><br>	&#125;<br><br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Vector2</span><br>	&#123;<br>		<span class="hljs-type">float</span> x, y;<br>	&#125;;<br><br>	std::cout &lt;&lt; <span class="hljs-string">&quot;Make shared!&quot;</span> &lt;&lt; std::endl;<br>	&#123;<br>		std::array&lt;std::shared_ptr&lt;Vector2&gt;, <span class="hljs-number">1000</span>&gt; sharedPtrs;<br>		Timer timer;<br>		<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; sharedPtrs.<span class="hljs-built_in">size</span>(); i++)<br>			sharedPtrs[i] = std::<span class="hljs-built_in">make_shared</span>&lt;Vector2&gt;();<br>	&#125;<br><br>	std::cout &lt;&lt; <span class="hljs-string">&quot;New shared!&quot;</span> &lt;&lt; std::endl;<br>	&#123;<br>		std::array&lt;std::shared_ptr&lt;Vector2&gt;, <span class="hljs-number">1000</span>&gt; sharedPtrs;<br>		Timer timer;<br>		<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; sharedPtrs.<span class="hljs-built_in">size</span>(); i++)<br>			sharedPtrs[i] = std::<span class="hljs-built_in">shared_ptr</span>&lt;Vector2&gt;(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Vector2</span>());<br>	&#125;<br><br>	std::cout &lt;&lt; <span class="hljs-string">&quot;Make unique!&quot;</span> &lt;&lt; std::endl;<br>	&#123;<br>		std::array&lt;std::unique_ptr&lt;Vector2&gt;, <span class="hljs-number">1000</span>&gt; sharedPtrs;<br>		Timer timer;<br>		<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; sharedPtrs.<span class="hljs-built_in">size</span>(); i++)<br>			sharedPtrs[i] = std::<span class="hljs-built_in">make_unique</span>&lt;Vector2&gt;();<br>	&#125;<br>	<br> 	__debugbreak();<br>&#125;<br></code></pre></td></tr></table></figure>

<p>åˆ‡æ¢åˆ° Release æ¨¡å¼ï¼Œå¯ä»¥å‘ç°<code>make_shared</code>æ˜æ˜¾æ¯”<code>new</code>å¿«ï¼Œæ‰€ä»¥ä¸€å®šè¦ç¡®ä¿ä½ æ‰€åˆ†æçš„ä»£ç ï¼Œæ˜¯åœ¨ Release æ—¶çœŸæ­£æœ‰æ„ä¹‰çš„ï¼Œå› ä¸ºä½ ä¸ä¼šåœ¨ Debug æ—¶å‘å¸ƒä»£ç ã€‚</p>
<h1 id="75-Structed-bindings-in-C-C-17"><a href="#75-Structed-bindings-in-C-C-17" class="headerlink" title="75. Structed bindings in C++(C++17)"></a>75. Structed bindings in C++(C++17)</h1><ul>
<li><strong>ç»“æ„åŒ–ç»‘å®šï¼ˆåªé’ˆå¯¹ C++17ï¼‰</strong></li>
</ul>
<p><em>Structured binding</em>ï¼ˆç»“æ„åŒ–ç»‘å®šï¼‰æ˜¯ä¸€ä¸ªæ–°ç‰¹æ€§ï¼Œè®©æˆ‘ä»¬æ›´å¥½åœ°å¤„ç†å¤šè¿”å›å€¼ï¼ˆå¤šè¿”å›å€¼å¯å‚è€ƒ[52 C++å¤„ç†å¤šè¿”å›å€¼](<a target="_blank" rel="noopener" href="https://nagi.fun/Cherno-CPP-Notes/51-100/52">https://nagi.fun/Cherno-CPP-Notes/51-100/52</a> How to Deal with Multiple Return Values in C%2B%2B&#x2F;)ï¼‰ï¼Œè¿™æ˜¯åœ¨ 52 è¯¾æ–¹æ³•åŸºç¡€ä¸Šæ‹“å±•çš„ä¸€ç§å¤„ç†å¤šè¿”å›å€¼çš„æ–°æ–¹æ³•ï¼Œç‰¹åˆ«æ˜¯å¦‚ä½•å¤„ç† <em>tuple</em>ï¼ˆå…ƒç»„ï¼‰å’Œ <em>pairs</em> (å¯¹ç»„ï¼‰ä»¥åŠè¿”å›è¯¸å¦‚æ­¤ç±»çš„ä¸œè¥¿ã€‚å› ä¸ºç»“æ„åŒ–ç»‘å®šç®€åŒ–äº†æˆ‘ä»¬çš„ä»£ç ï¼Œè®©å®ƒæ¯”ä»¥å‰çš„åšæ³•æ›´ç®€æ´ã€‚</p>
<ul>
<li>æ²¡æœ‰ç»“æ„åŒ–ç»‘å®šè¿™ä¸ªæ–°ç‰¹æ€§æ—¶ï¼Œæœ€å¥½ä½¿ç”¨sturctæ¥å¤„ç†å¤šè¿”å›å€¼</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs C+">#include &lt;iostream&gt;<br>#include &lt;string&gt;<br>#include &lt;tuple&gt;<br><br>std::tuple&lt;std::string, int&gt; CreatePerson()<br>&#123;<br>	return&#123; &quot;Cherno&quot;, 24 &#125;;<br>&#125;<br><br><br>struct Person<br>&#123;<br>	std::string Name;<br>	int Age;<br>&#125;;<br><br>int main()<br>&#123;<br>	// method 1:tuple<br>	auto person = CreatePerson();<br>	std::string&amp; name = std::get&lt;0&gt;(person);<br>	int age = std::get&lt;1&gt;(person);<br>	<br>	// method 2:tie<br>	std::string name;<br>	int age;<br>	std::tie(name, age) = CreatePerson();<br><br>	// method 3: struct<br>	Person person1;<br>	person1.Name = &quot;Cherno&quot;;<br>	person1.Age = 24;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>ç»“æ„åŒ–ç»‘å®š</li>
</ul>
<p>éœ€è¦ç¡®ä¿é¡¹ç›®å±æ€§è®¾ç½®ä¸ºC++17æ‰è¡Œï¼ŒC++11å’ŒC++14ä¸æ”¯æŒæ­¤å±æ€§ï¼Œç¼–è¯‘é€šè¿‡ä¸äº†ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;tuple&gt;</span></span><br><br><span class="hljs-function">std::tuple&lt;std::string, <span class="hljs-type">int</span>&gt; <span class="hljs-title">CreatePerson</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-keyword">return</span>&#123; <span class="hljs-string">&quot;Cherno&quot;</span>, <span class="hljs-number">24</span> &#125;;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-keyword">auto</span> [name, age] = <span class="hljs-built_in">CreatePerson</span>();<br>	std::cout &lt;&lt; name &lt;&lt; <span class="hljs-string">&quot;:&quot;</span> &lt;&lt; age &lt;&lt; std::endl;<br><br>&#125;<br></code></pre></td></tr></table></figure>



<h1 id="76-How-to-deal-with-OPTIONAL-Data-in-C-C-17"><a href="#76-How-to-deal-with-OPTIONAL-Data-in-C-C-17" class="headerlink" title="76. How to deal with OPTIONAL Data in C++(C++17)"></a>76. How to deal with OPTIONAL Data in C++(C++17)</h1><p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªè¿”å›æ•°æ®çš„å‡½æ•°ï¼Œæ¯”æ–¹è¯´æˆ‘ä»¬æ­£åœ¨è¯»å–ä¸€ä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯å¦‚æœè¿™ä¸ªæ–‡ä»¶ä¸èƒ½è¢«è¯»å–ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿå®ƒå¯èƒ½ä¸å­˜åœ¨ï¼Œæˆ–è€…æ˜¯æ•°æ®ä¸æ˜¯æˆ‘ä»¬æœŸæœ›çš„æ ¼å¼ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦ä»å‡½æ•°ä¸­è¿”å›ä¸€äº›ä¸œè¥¿ã€‚åœ¨è¿™ä¸ªç‰¹å®šçš„æƒ…å†µä¸‹ï¼Œå¯èƒ½åªä¼šè¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œä½†è¿™æ²¡æœ‰å¤šå¤§æ„ä¹‰ã€‚æ„æ€æ˜¯ï¼Œå¦‚æœè¯»å–æ–‡ä»¶æ˜¯ç©ºçš„ï¼Œ æˆ‘ä»¬åº”è¯¥æœ‰åŠæ³•çœ‹åˆ°æ•°æ®æ˜¯å¦å­˜åœ¨ã€‚</p>
<p>è¿™å°±æ˜¯è¦ç”¨åˆ°<code>std::optional</code>çš„åœ°æ–¹äº†ï¼Œè¿™æ˜¯ C++17 æ ‡å‡†çš„æ–°ä¸œè¥¿ã€‚</p>
<ul>
<li>ä¸ä½¿ç”¨optional</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;fstream&gt;</span></span><br><span class="hljs-function">std::string <span class="hljs-title">ReadFileAsString</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; filepath, <span class="hljs-type">bool</span>&amp; outSuccess)</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-function">std::ifstream <span class="hljs-title">stream</span><span class="hljs-params">(filepath)</span></span>;<br>	<span class="hljs-keyword">if</span> (stream)<br>	&#123;<br>		std::string result;<br>		<span class="hljs-comment">// read file</span><br>		stream.<span class="hljs-built_in">close</span>();<br>		outSuccess = <span class="hljs-literal">true</span>;<br>		<span class="hljs-keyword">return</span> result;<br>	&#125;<br><br>	outSuccess = <span class="hljs-literal">false</span>;<br>	<span class="hljs-keyword">return</span> std::<span class="hljs-built_in">string</span>();<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-type">bool</span> fileOpenedSuccessfully;<br>	std::string data = <span class="hljs-built_in">ReadFileAsString</span>(<span class="hljs-string">&quot;data.txt&quot;</span>, fileOpenedSuccessfully);<br>	<span class="hljs-keyword">if</span> (fileOpenedSuccessfully) &#123;&#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>ä½¿ç”¨optionalçš„æƒ…å†µ</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;fstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;optional&gt;</span></span><br><br>std::optional &lt;std::string&gt; <span class="hljs-built_in">ReadFileAsString</span>(<span class="hljs-type">const</span> std::string&amp; filepath)<br>&#123;<br>	<span class="hljs-function">std::ifstream <span class="hljs-title">stream</span><span class="hljs-params">(filepath)</span></span>;<br>	<span class="hljs-keyword">if</span> (stream)<br>	&#123;<br>		std::string result;<br>		<span class="hljs-comment">// Read file</span><br>		stream.<span class="hljs-built_in">close</span>();<br>		<span class="hljs-keyword">return</span> result;<br>	&#125;<br>	<span class="hljs-keyword">return</span> &#123;&#125;;<br><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::optional&lt;std::string&gt; data = <span class="hljs-built_in">ReadFileAsString</span>(<span class="hljs-string">&quot;data.txt&quot;</span>); <span class="hljs-comment">// å¯ä»¥auto</span><br>	<span class="hljs-keyword">if</span> (data)<span class="hljs-comment">// æœ¬æ¥å¯ä»¥å†™data.has_value()ï¼Œä½†æ˜¯dataå¯¹è±¡æœ‰ä¸€ä¸ªboolè¿ç®—ç¬¦ï¼Œæ‰€ä»¥è¿™æ ·å†™æ›´ç®€æ´</span><br>	&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;file read successfully\n&quot;</span>;<br>	&#125;<br>	<span class="hljs-keyword">else</span><br>	&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;file could not read\n&quot;</span>;<br>	&#125;<br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br></code></pre></td></tr></table></figure>





<h1 id="77-Multiple-TYPES-of-Data-in-a-SINGLE-VARIABLE-in-C"><a href="#77-Multiple-TYPES-of-Data-in-a-SINGLE-VARIABLE-in-C" class="headerlink" title="77. Multiple TYPES of Data in a SINGLE VARIABLE in C++"></a>77. Multiple TYPES of Data in a SINGLE VARIABLE in C++</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;variant&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::variant&lt;std::string, <span class="hljs-type">int</span>&gt; data;<br>	data = <span class="hljs-string">&quot;Cherno&quot;</span>;<br>	std::cout &lt;&lt; std::<span class="hljs-built_in">get</span>&lt;std::string&gt;(data) &lt;&lt; std::endl;<br>	data = <span class="hljs-number">2</span>;<br>	std::cout &lt;&lt; std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-type">int</span>&gt;(data) &lt;&lt; std::endl;<br>	std::cin.<span class="hljs-built_in">get</span>();<br>&#125;<br></code></pre></td></tr></table></figure>

<p>è¿™ä¸ªå’Œ<code>std::optional</code>å¾ˆåƒï¼Œå®ƒçš„ä½œç”¨æ˜¯è®©æˆ‘ä»¬ä¸ç”¨æ‹…å¿ƒå¤„ç†çš„ç¡®åˆ‡æ•°æ®ç±»å‹ï¼Œ åªæœ‰ä¸€ä¸ªå˜é‡æ”¾åœ¨é‚£å„¿ï¼Œæˆ‘ä»¬ä¹‹åå†å»è€ƒè™‘å®ƒçš„å…·ä½“ç±»å‹ã€‚å®ƒå…è®¸ä½ åˆ—å‡ºæ‰€æœ‰å¯èƒ½çš„ç±»å‹ï¼Œç„¶åä½ å¯ä»¥å†³å®šå®ƒå°†æ˜¯ä»€ä¹ˆï¼Œå¦‚æœä½ æƒ³çš„è¯å¯ä»¥æŠŠå®ƒé‡æ–°èµ‹å€¼ç»™ä»»æ„ç±»å‹ï¼Œè¿™ä¹Ÿæ˜¯ä½ åˆ›å»ºå¯èƒ½æœ‰å¤šä¸ªç±»å‹çš„å˜é‡çš„ä¸€ç§æ–¹å¼ã€‚</p>
<h1 id="78-How-to-store-ANY-data-in-C-C-17"><a href="#78-How-to-store-ANY-data-in-C-C-17" class="headerlink" title="78. How to store ANY data in C++(C++17)"></a>78. How to store ANY data in C++(C++17)</h1><p>[78 å¦‚ä½•å­˜å‚¨ä»»æ„ç±»å‹çš„æ•°æ® - cherno-cpp-notes (nagi.fun)](<a target="_blank" rel="noopener" href="https://nagi.fun/Cherno-CPP-Notes/51-100/78">https://nagi.fun/Cherno-CPP-Notes/51-100/78</a> How to store ANY data in C%2B%2B&#x2F;)</p>
<h1 id="79-How-to-make-C-run-FASTER-with-std-async"><a href="#79-How-to-make-C-run-FASTER-with-std-async" class="headerlink" title="79. How to make C++ run FASTER (with std::async)"></a>79. How to make C++ run FASTER (with std::async)</h1><p>é€šè¿‡å¤šçº¿ç¨‹æ¥æé«˜æ€§èƒ½ï¼</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E7%9F%A5%E8%AF%86%E7%A7%AF%E7%B4%AF/" class="category-chain-item">çŸ¥è¯†ç§¯ç´¯</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/CPP/" class="print-no-link">#CPP</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>ChernoCPP-2</div>
      <div>https://blog.cosmicdusty.cc/post/Knowledge/ChernoCPP_2/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>Murphy</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2023å¹´12æœˆ29æ—¥</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>è®¸å¯åè®®</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - ç½²å">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/post/MyLife/BookMovieMusic2024/" title="ä¹¦å½±éŸ³2024">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">ä¹¦å½±éŸ³2024</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/post/MyLife/MYYEAR2023/" title="MY YEAR 2023">
                        <span class="hidden-mobile">MY YEAR 2023</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"JijHNKemeVNog4wF7g9I5TR3-gzGzoHsz","appKey":"FvsKdxHOP2aG5rHrHby5aV0b","path":"window.location.pathname","placeholder":null,"avatar":"retro","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":false,"recordIP":false,"serverURLs":"","emojiCDN":null,"emojiMaps":null,"enableQQ":false},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>ç›®å½•</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  









    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a rel="nofollow noopener"><span>Powered by</span></a> <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span><b>Hexo</b></span></a> <i class="iconfont icon-love"></i> <a rel="nofollow noopener"><span>Themed by</span></a> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span><b>Fluid</b></span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        æ€»è®¿é—®é‡
        <span id="busuanzi_value_site_pv"></span>
        æ¬¡
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        æ€»è®¿å®¢æ•°
        <span id="busuanzi_value_site_uv"></span>
        äºº
      </span>
    
    

  

</div>

  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }

        Fluid.events.registerRefreshCallback(function() {
          if ('MathJax' in window && MathJax.startup.document && typeof MathJax.startup.document.state === 'function') {
            MathJax.startup.document.state(0);
            MathJax.texReset();
            MathJax.typeset();
            MathJax.typesetPromise();
          }
        });
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js" ></script>

  <script defer src="/js/leancloud.js" ></script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>
